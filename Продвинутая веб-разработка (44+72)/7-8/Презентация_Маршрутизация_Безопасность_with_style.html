<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastAPI: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</title>
    <link rel="stylesheet" href="../3-4/css/reveal.min.css">
    <link rel="stylesheet" href="../3-4/css/black.min.css">
    <link rel="stylesheet" href="../3-4/css/monokai.min.css">
    <link rel="stylesheet" href="../3-4/css/presentation.css">
    <style>
        .reveal h1 { font-size: 1.5em !important; margin-top: 0 !important; margin-bottom: 0.3em !important; }
        .reveal h2 { font-size: 1.25em !important; margin-top: 0 !important; margin-bottom: 0.3em !important; text-transform: none !important; }
        .reveal h3 { font-size: 1em !important; margin-top: 0 !important; margin-bottom: 0.3em !important; text-transform: none !important; }
        .reveal .slides section { padding-top: 5px !important; }
        pre code { font-size: 1.1em !important; max-height: none; overflow: hidden; }
        pre { max-height: none; overflow: hidden; }
        .slides section pre code { font-size: 1.3em !important; }
        .diagram { font-family: 'Courier New', monospace; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides" data-separator="^---$" data-separator-vertical="^--$">
            
            <!-- –°–ª–∞–π–¥ 1: –¢–∏—Ç—É–ª—å–Ω—ã–π -->
            <section data-background-color="#1a1a2e">
                <div style="background: rgba(22,33,62,0.9); padding: 40px; border: 8px solid #0f3460; box-shadow: 0 0 0 4px #16213e;">
                    <h1 style="color: #FFD700; letter-spacing: 3px;">üöÄ FastAPI</h1>
                    <h2 style="color: #90EE90;">–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
                    <p style="color: #FFF; font-size: 1.2em; margin-top: 30px;">üè´ –ú–ü–ì–£, 2025</p>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 2: –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ -->
            <section>
                <h2>üìã –ß—Ç–æ –º—ã –∏–∑—É—á–∏–º</h2>
                <div style="text-align: left; font-size: 0.9em;">
                    <ul class="fragment">
                        <li>üõ£Ô∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å APIRouter</li>
                        <li>üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏</li>
                        <li>üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Basic Auth, OAuth2, JWT)</li>
                        <li>üß™ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</li>
                    </ul>
                    
                    <div class="fragment" style="margin-top: 30px;">
                        <h3 style="color: #2ecc71;">–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º?</h3>
                        <ul>
                            <li>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ = –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</li>
                            <li>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ = –ª–µ–≥–∫–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏</li>
                            <li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å = –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫</li>
                            <li>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ = —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 3: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å APIRouter -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å APIRouter</h2>
                <div style="text-align: left; font-size: 0.8em;">
                    <div class="fragment">
                        <h3 style="color: #e74c3c;">‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</h3>
                        <pre><code class="python">from fastapi import FastAPI
app = FastAPI()

@app.get("/users")
def get_users(): ...

@app.get("/products")
def get_products(): ...
# ... 100+ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤</code></pre>
                    </div>
                    
                    <div class="fragment">
                        <h3 style="color: #2ecc71;">‚úÖ –†–µ—à–µ–Ω–∏–µ: –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</h3>
                        <pre><code class="python">from fastapi import FastAPI
from routers import users, products

app = FastAPI()
app.include_router(users.router, prefix="/api/v1")
app.include_router(products.router, prefix="/api/v1")</code></pre>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 3: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ -->
            <section>
                <h2>üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                <div class="fragment diagram">
                    <pre>project/
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ users.py      # /api/v1/users
‚îÇ   ‚îú‚îÄ‚îÄ products.py   # /api/v1/products
‚îÇ   ‚îî‚îÄ‚îÄ orders.py     # /api/v1/orders
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ user_service.py
‚îÇ   ‚îî‚îÄ‚îÄ product_service.py
‚îî‚îÄ‚îÄ models/
    ‚îú‚îÄ‚îÄ user.py
    ‚îî‚îÄ‚îÄ product.py</pre>
                </div>
                
                <div class="fragment" style="margin-top: 20px;">
                    <h3>–ü—Ä–∏–º–µ—Ä —Ä–æ—É—Ç–µ—Ä–∞:</h3>
                    <pre><code class="python">from fastapi import APIRouter

router = APIRouter(prefix="/users", tags=["users"])

@router.get("/")
async def get_users():
    return await user_service.get_all()

@router.post("/", status_code=201)
async def create_user(user: UserCreate):
    return await user_service.create(user)</code></pre>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 4: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <div class="fragment">
                        <h3>MVC (Model-View-Controller)</h3>
                        <div style="font-family: 'Courier New', monospace; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px;">
                            <div>User Request ‚Üí Controller ‚Üí Model ‚Üí Database</div>
                            <div style="text-align: center; margin-left: -350px;">‚Üì</div>
                            <div style="text-align: center; margin-left: -200px;">View ‚Üí Response</div>
                        </div>
                    </div>
                    
                    <div class="fragment">
                        <h3>MTV (Model-Template-View) - Django –ø–æ–¥—Ö–æ–¥</h3>
                        <ul style="font-size: 0.9em;">
                            <li><strong>Model</strong> - –¥–∞–Ω–Ω—ã–µ</li>
                            <li><strong>Template</strong> - —à–∞–±–ª–æ–Ω—ã HTML</li>
                            <li><strong>View</strong> - –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏</li>
                        </ul>
                    </div>
                    

                    
                    <div class="fragment">
                        <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
                        <ul>
                            <li>‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
                            <li>‚úÖ –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
                            <li>‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üèóÔ∏è Layered Architecture –¥–ª—è FastAPI</h2>
                <p style="font-size: 0.9em; margin-bottom: 10px;">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è API</p>
                <table style="width: 100%; border-collapse: collapse; margin-top: 15px; margin-bottom: 15px;">
                    <tr style="background: rgba(52,152,219,0.3);">
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3);">API Layer (Routers)</td>
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3); width: 250px;">‚Üê HTTP</td>
                    </tr>
                    <tr style="background: rgba(46,204,113,0.3);">
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3);">Service Layer (Business)</td>
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3);">‚Üê –õ–æ–≥–∏–∫–∞</td>
                    </tr>
                    <tr style="background: rgba(155,89,182,0.3);">
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3);">Repository Layer (Data)</td>
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3);">‚Üê –ë–î</td>
                    </tr>
                    <tr style="background: rgba(243,156,18,0.3);">
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3);">Database</td>
                        <td style="padding: 15px; border: 2px solid rgba(255,255,255,0.3);">‚Üê –î–∞–Ω–Ω—ã–µ</td>
                    </tr>
                </table>
                <div style="text-align: left; font-size: 0.8em;">
                    <h3 style="color: #2ecc71; margin-bottom: 10px;">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</h3>
                    <ul style="margin: 0;">
                        <li>‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP)</li>
                        <li>‚úÖ –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è</li>
                        <li>‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
                        <li>‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</li>
                    </ul>
                </div>
            </section>

            <section>
                <section id="slide-5">
                <h2>üîÑ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–ª–æ–µ–≤</h2>
                
                <div style="font-size: 0.9em; line-height: 1.4;">
                    <div class="fragment" style="background: rgba(52,152,219,0.3); padding: 8px; margin-bottom: 5px; border-radius: 5px;">
                        <strong style="color: #3498db;">1Ô∏è‚É£ CLIENT</strong> ‚Üí POST /api/users
                    </div>
                    
                    <div style="text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</div>
                    
                    <div class="fragment" style="background: rgba(52,152,219,0.3); padding: 8px; margin-bottom: 5px; border-radius: 5px;">
                        <strong style="color: #3498db;">2Ô∏è‚É£ API LAYER</strong> ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è + –ü—Ä–∞–≤–∞
                    </div>
                    
                    <div style="text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</div>
                    
                    <div class="fragment" style="background: rgba(46,204,113,0.3); padding: 8px; margin-bottom: 5px; border-radius: 5px;">
                        <strong style="color: #2ecc71;">3Ô∏è‚É£ SERVICE LAYER</strong> ‚Üí –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
                    </div>
                    
                    <div style="text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</div>
                    
                    <div class="fragment" style="background: rgba(155,89,182,0.3); padding: 8px; margin-bottom: 5px; border-radius: 5px;">
                        <strong style="color: #9b59b6;">4Ô∏è‚É£ REPOSITORY</strong> ‚Üí SQL –∑–∞–ø—Ä–æ—Å—ã
                    </div>
                    
                    <div style="text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</div>
                    
                    <div class="fragment" style="background: rgba(243,156,18,0.3); padding: 8px; border-radius: 5px;">
                        <strong style="color: #f39c12;">5Ô∏è‚É£ DATABASE</strong> ‚Üí INSERT INTO users
                    </div>
                </div>
            </section>

            <section id="slide-6" data-background-color="#16213e">
                <h2 style="color: #FFD700;">üîô –û–±—Ä–∞—Ç–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö</h2>
                <div class="diagram" style="font-size: 0.9em;">
                    <pre>Database ‚Üí Repository ‚Üí Service ‚Üí Router ‚Üí Client
   ‚Üì           ‚Üì          ‚Üì         ‚Üì        ‚Üì
  User      User DTO   UserOut   JSON    {"id": 1, ...}</pre>
                </div>
            </section>
            </section>

            <!-- –°–ª–∞–π–¥ 8: API Layer -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">1Ô∏è‚É£ API Layer (Router)</h2>
                <pre class="fragment"><code class="python">from fastapi import APIRouter, Depends
from services.user_service import UserService
from schemas.user import UserCreate, UserOut

router = APIRouter(prefix="/users", tags=["users"])

@router.post("/", response_model=UserOut)
async def create_user(
    user_data: UserCreate,
    service: UserService = Depends()
):
    return await service.create_user(user_data)

@router.get("/{user_id}", response_model=UserOut)
async def get_user(
    user_id: int,
    service: UserService = Depends()
):
    return await service.get_user(user_id)</code></pre>
            </section>

            <!-- –°–ª–∞–π–¥ 9: Service Layer -->
            <section>
                <h2>2Ô∏è‚É£ Service Layer (Business Logic)</h2>
                <pre class="fragment"><code class="python">from repositories.user_repository import UserRepository
from utils.security import hash_password

class UserService:
    def __init__(self, repo: UserRepository = Depends()):
        self.repo = repo
    
    async def create_user(self, data: UserCreate):
        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
        if await self.repo.exists_by_email(data.email):
            raise ValueError("Email already exists")
        
        # –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è
        hashed_pwd = hash_password(data.password)
        
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        user = await self.repo.create({
            **data.dict(),
            "password": hashed_pwd
        })
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ welcome email
        await send_welcome_email(user.email)
        return user</code></pre>
            </section>

            <!-- –°–ª–∞–π–¥ 10: Repository Layer -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">3Ô∏è‚É£ Repository Layer (Data Access)</h2>
                <pre class="fragment"><code class="python">from sqlalchemy.ext.asyncio import AsyncSession
from sqlalchemy import select
from models.user import User

class UserRepository:
    def __init__(self, db: AsyncSession = Depends(get_db)):
        self.db = db
    
    async def create(self, data: dict):
        user = User(**data)
        self.db.add(user)
        await self.db.commit()
        await self.db.refresh(user)
        return user
    
    async def get_by_id(self, user_id: int):
        result = await self.db.execute(
            select(User).where(User.id == user_id)
        )
        return result.scalar_one_or_none()
    
    async def exists_by_email(self, email: str) -> bool:
        result = await self.db.execute(
            select(User).where(User.email == email)
        )
        return result.scalar_one_or_none() is not None</code></pre>
            </section>

            <!-- –°–ª–∞–π–¥ 11: Model Layer -->
            <section>
                <h2>4Ô∏è‚É£ Model Layer (Database)</h2>
                <pre class="fragment"><code class="python">from sqlalchemy import Column, Integer, String, DateTime
from sqlalchemy.sql import func
from database import Base

class User(Base):
    __tablename__ = "users"
    
    id = Column(Integer, primary_key=True, index=True)
    email = Column(String, unique=True, index=True)
    username = Column(String, unique=True)
    password = Column(String)
    created_at = Column(DateTime, server_default=func.now())
    updated_at = Column(DateTime, onupdate=func.now())</code></pre>
            </section>

            <!-- –°–ª–∞–π–¥ 12: SOLID - –í–≤–µ–¥–µ–Ω–∏–µ -->
            <section data-background-color="#2c3e50">
                <h2 style="color: #FFD700;">üèõÔ∏è SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã</h2>
                <div style="text-align: left; font-size: 0.8em;">
                    <div class="fragment">
                        <h3 style="color: #3498db;">–ß—Ç–æ —Ç–∞–∫–æ–µ SOLID?</h3>
                        <p>5 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                    </div>
                    
                    <div class="fragment" style="margin-top: 20px;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <tr style="background: rgba(52,152,219,0.3);">
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2); width: 60px;"><strong>S</strong></td>
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Single Responsibility Principle</td>
                            </tr>
                            <tr style="background: rgba(46,204,113,0.3);">
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);"><strong>O</strong></td>
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Open/Closed Principle</td>
                            </tr>
                            <tr style="background: rgba(155,89,182,0.3);">
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);"><strong>L</strong></td>
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Liskov Substitution Principle</td>
                            </tr>
                            <tr style="background: rgba(241,196,15,0.3);">
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);"><strong>I</strong></td>
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Interface Segregation Principle</td>
                            </tr>
                            <tr style="background: rgba(231,76,60,0.3);">
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);"><strong>D</strong></td>
                                <td style="padding: 10px; border: 1px solid rgba(255,255,255,0.2);">Dependency Inversion Principle</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 13: SOLID - SRP & OCP -->
            <section>
                <h2>SOLID –≤ FastAPI: S & O</h2>
                <div style="text-align: left; font-size: 0.75em;">
                    <div class="fragment">
                        <h3 style="color: #3498db;">S - Single Responsibility</h3>
                        <p>–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</p>
                        <pre><code class="python"># ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
class UserRepository:  # –¢–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ —Å –ë–î
    def create(self, user): ...
    def get_by_id(self, id): ...

class EmailService:    # –¢–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ email
    def send_welcome(self, email): ...

class UserService:     # –¢–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    def register(self, data):
        user = self.repo.create(data)
        self.email.send_welcome(user.email)</code></pre>
                    </div>
                    
                    <div class="fragment">
                        <h3 style="color: #2ecc71;">O - Open/Closed</h3>
                        <p>–û—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è</p>
                        <pre><code class="python">class BaseRepository(ABC):
    @abstractmethod
    def save(self, entity): ...

class PostgresRepository(BaseRepository):
    def save(self, entity): # PostgreSQL

class MongoRepository(BaseRepository):
    def save(self, entity): # MongoDB</code></pre>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 14: SOLID - DIP -->
            <section data-background-color="#2c3e50">
                <h2 style="color: #FFD700;">SOLID –≤ FastAPI: D</h2>
                <div style="text-align: left; font-size: 0.75em;">
                    <div class="fragment">
                        <h3 style="color: #e74c3c;">D - Dependency Inversion</h3>
                        <p>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</p>
                        <pre><code class="python"># ‚ùå –ü–ª–æ—Ö–æ
class UserService:
    def __init__(self):
        self.repo = PostgresRepository()  # –ñ–µ—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

# ‚úÖ –•–æ—Ä–æ—à–æ
class UserService:
    def __init__(self, repo: BaseRepository):  # –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è
        self.repo = repo

# FastAPI Dependency Injection
@app.get("/users")
async def get_users(
    service: UserService = Depends(get_user_service)
):
    return await service.get_all()</code></pre>
                    </div>
                    
                    <div class="fragment" style="margin-top: 15px;">
                        <h3 style="color: #2ecc71;">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ SOLID:</h3>
                        <ul>
                            <li>‚úÖ –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–º–æ–∫–∏)</li>
                            <li>‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∑–∞–º–µ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
                            <li>‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</li>
                            <li>‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 15: SOLID - SRP –≤ –ø—Ä–æ–µ–∫—Ç–µ -->
            <section>
                <h2>S - Single Responsibility –≤ project-pattern</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <div class="fragment">
                        <h3 style="color: #3498db;">–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</h3>
                        <pre><code class="python"># StudentRepository - —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
class StudentRepository:
    def get_all(self) -> list[Student]: ...
    def create(self, student_data: dict) -> Student: ...
    def update(self, name: str, data: dict) -> Student: ...

# StudentService - —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
class StudentService:
    def get_all(self, year=None, group=None) -> list[Student]: ...
    def search(self, query: str) -> list[Student]: ...

# API Router - —Ç–æ–ª—å–∫–æ HTTP –æ–±—Ä–∞–±–æ—Ç–∫–∞
@router.get("/")
def get_all(year: int | None = None):
    return service.get_all(year, group)</code></pre>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 16: SOLID - OCP –≤ –ø—Ä–æ–µ–∫—Ç–µ -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">O - Open/Closed –≤ project-pattern</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <div class="fragment">
                        <h3 style="color: #2ecc71;">–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è</h3>
                        <pre><code class="python"># –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
class FileStudentRepository(StudentRepository):
    def get_all(self):
        # –ß—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞
        with open("students.json") as f:
            return json.load(f)

class DatabaseStudentRepository(StudentRepository):
    def get_all(self):
        # –ß—Ç–µ–Ω–∏–µ –∏–∑ –ë–î
        return db.query(Student).all()

class RedisStudentRepository(StudentRepository):
    def get_all(self):
        # –ß—Ç–µ–Ω–∏–µ –∏–∑ Redis
        return redis.get("students")</code></pre>
                    </div>
                    <div class="fragment">
                        <p style="color: #2ecc71;">‚úÖ –°–µ—Ä–≤–∏—Å –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤!</p>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 17: SOLID - ISP –≤ –ø—Ä–æ–µ–∫—Ç–µ -->
            <section>
                <h2>I - Interface Segregation –≤ project-pattern</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <div class="fragment">
                        <h3 style="color: #f39c12;">–†–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
                        <pre><code class="python"># –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π
class StudentCreate(BaseModel):    # –¢–æ–ª—å–∫–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
    name: str
    group: str
    year: int
    courses: list[int] = []

class StudentUpdate(BaseModel):    # –¢–æ–ª—å–∫–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    name: str | None = None
    group: str | None = None
    year: int | None = None
    courses: list[int] | None = None

class StudentResponse(BaseModel):  # –¢–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–≤–µ—Ç–∞ API
    name: str
    group: str
    year: int
    courses: list[int]</code></pre>
                    </div>
                    <div class="fragment">
                        <p style="color: #2ecc71;">‚úÖ –ö–ª–∏–µ–Ω—Ç –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π!</p>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 18: SOLID - DIP –≤ –ø—Ä–æ–µ–∫—Ç–µ -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">D - Dependency Inversion –≤ project-pattern</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <div class="fragment">
                        <h3 style="color: #e74c3c;">–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</h3>
                        <pre><code class="python"># –°–µ—Ä–≤–∏—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏)
class StudentService:
    def __init__(self):
        self.repository = StudentRepository()  # –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è
    
    def get_all(self):
        return self.repository.get_all()  # –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

# API –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–µ—Ä–≤–∏—Å–∞
service = StudentService()

@router.get("/")
def get_all():
    return service.get_all()  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</code></pre>
                    </div>
                    <div class="fragment" style="margin-top: 15px;">
                        <div class="diagram">API Layer ‚Üí Service Layer ‚Üí Repository Layer
    ‚Üì           ‚Üì              ‚Üì
–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è  –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è     –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è</div>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 19: SOLID - –ò—Ç–æ–≥ -->
            <section data-background-color="#2c3e50">
                <h2 style="color: #FFD700;">üéØ –ò—Ç–æ–≥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è SOLID</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                        <tr style="background: rgba(46,204,113,0.3);">
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2); width: 60px;">‚úÖ <strong>S</strong></td>
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ —Å–ª–æ—è–º</td>
                        </tr>
                        <tr style="background: rgba(46,204,113,0.3);">
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">‚úÖ <strong>O</strong></td>
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π</td>
                        </tr>
                        <tr style="background: rgba(231,76,60,0.3);">
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">‚ùå <strong>L</strong></td>
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">–ù–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ (–Ω–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è)</td>
                        </tr>
                        <tr style="background: rgba(46,204,113,0.3);">
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">‚úÖ <strong>I</strong></td>
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">–†–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</td>
                        </tr>
                        <tr style="background: rgba(46,204,113,0.3);">
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">‚úÖ <strong>D</strong></td>
                            <td style="padding: 12px; border: 1px solid rgba(255,255,255,0.2);">–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</td>
                        </tr>
                    </table>
                    <div class="fragment" style="margin-top: 25px; text-align: center;">
                        <h3 style="color: #2ecc71; font-size: 1.3em;">4 –∏–∑ 5 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID –ø—Ä–∏–º–µ–Ω–µ–Ω—ã! üéâ</h3>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 20: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å -->
            <section data-background-color="#c0392b">
                <h2>üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <div class="fragment">
                        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—Ç–∞–∫:</h3>
                        <ul>
                            <li>üî¥ 81% –≤–∑–ª–æ–º–æ–≤ —Å–≤—è–∑–∞–Ω—ã —Å–æ —Å–ª–∞–±—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏</li>
                            <li>üî¥ 43% –∫–∏–±–µ—Ä–∞—Ç–∞–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –º–∞–ª—ã–π –±–∏–∑–Ω–µ—Å</li>
                            <li>üî¥ 95% —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å</li>
                        </ul>
                    </div>
                    
                    <div class="fragment" style="margin-top: 20px;">
                        <h3>–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Authentication –∏ Authorization:</h3>
                        <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                            <tr style="background: rgba(52,152,219,0.4);">
                                <td style="padding: 20px; border: 2px solid rgba(255,255,255,0.3); text-align: center;">
                                    <strong style="font-size: 1.2em;">AUTHENTICATION (–ö—Ç–æ —Ç—ã?)</strong><br><br>
                                    ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è<br>
                                    ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; text-align: center; font-size: 1.5em; color: #FFD700;">‚Üì</td>
                            </tr>
                            <tr style="background: rgba(46,204,113,0.4);">
                                <td style="padding: 20px; border: 2px solid rgba(255,255,255,0.3); text-align: center;">
                                    <strong style="font-size: 1.2em;">AUTHORIZATION (–ß—Ç–æ –º–æ–∂–µ—à—å?)</strong><br><br>
                                    ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞<br>
                                    ‚úì –†–æ–ª–∏ (admin, user)
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 13: –ú–µ—Ç–æ–¥—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üîë –ú–µ—Ç–æ–¥—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</h2>
                <div style="text-align: left; font-size: 0.75em;">
                    <div class="fragment">
                        <h3>1. HTTP Basic Authentication</h3>
                        <p>–ö–ª–∏–µ–Ω—Ç: Authorization: Basic base64(username:password)</p>
                        <p>‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ | ‚ùå –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –±–µ–∑ HTTPS</p>
                    </div>
                    
                    <div class="fragment">
                        <h3>2. Session-Based</h3>
                        <p>–°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç —Å–µ—Å—Å–∏—é ‚Üí session_id –≤ cookie</p>
                        <p>‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ | ‚ùå –ù–µ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤</p>
                    </div>
                    
                    <div class="fragment">
                        <h3>3. Token-Based (JWT)</h3>
                        <p>–°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç JWT ‚Üí –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ</p>
                        <p>‚úÖ Stateless, –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ | ‚ùå –ù–µ–ª—å–∑—è –æ—Ç–æ–∑–≤–∞—Ç—å</p>
                    </div>
                    
                    <div class="fragment">
                        <h3>4. OAuth 2.0</h3>
                        <p>"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" ‚Üí authorization code ‚Üí access token</p>
                        <p>‚úÖ –ù–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ | ‚ùå –°–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</p>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 14: HTTP Basic Auth -->
            <section>
                <h2>üîê HTTP Basic Auth - –ü—Ä–∏–º–µ—Ä</h2>
                <div class="fragment" style="text-align: left; font-size: 0.85em; margin-bottom: 15px;">
                    <p><strong style="color: #3498db;">HTTPBasic</strong> - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç FastAPI: "–ñ–¥–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ"</p>
                    <p><strong style="color: #2ecc71;">HTTPBasicCredentials</strong> - —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</p>
                </div>
                <pre class="fragment"><code class="python">from fastapi import FastAPI, Depends, HTTPException
from fastapi.security import HTTPBasic, HTTPBasicCredentials
import secrets

app = FastAPI()
security = HTTPBasic()

USERS = {"admin": "secret123", "user": "password456"}

def verify_credentials(credentials: HTTPBasicCredentials = Depends(security)):
    username = credentials.username
    password = credentials.password
    
    if username not in USERS:
        raise HTTPException(401, "Incorrect credentials")
    
    if not secrets.compare_digest(password, USERS[username]):
        raise HTTPException(401, "Incorrect credentials")
    
    return username

@app.get("/protected")
def protected(username: str = Depends(verify_credentials)):
    return {"message": f"Hello, {username}!"}</code></pre>
            </section>


            <!-- –°–ª–∞–π–¥ 15: OAuth2 -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üîÑ OAuth 2.0</h2>
                <div style="text-align: left; font-size: 0.75em;">
                    <div class="fragment">
                        <h3>–†–æ–ª–∏ –≤ OAuth 2.0:</h3>
                        <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                            <tr style="background: rgba(52,152,219,0.3);">
                                <td style="padding: 8px; border: 2px solid rgba(255,255,255,0.3); text-align: center; white-space: nowrap;">
                                    <strong>1. Resource Owner (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)</strong>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 3px; text-align: center; font-size: 1.5em; color: #FFD700;">‚Üì</td>
                            </tr>
                            <tr style="background: rgba(46,204,113,0.3);">
                                <td style="padding: 8px; border: 2px solid rgba(255,255,255,0.3); text-align: center; white-space: nowrap;">
                                    <strong>2. Client (–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)</strong>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 3px; text-align: center; font-size: 1.5em; color: #FFD700;">‚Üì</td>
                            </tr>
                            <tr style="background: rgba(155,89,182,0.3);">
                                <td style="padding: 8px; border: 2px solid rgba(255,255,255,0.3); text-align: center; white-space: nowrap;">
                                    <strong>3. Authorization Server (Google, GitHub)</strong>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 3px; text-align: center; font-size: 1.5em; color: #FFD700;">‚Üì</td>
                            </tr>
                            <tr style="background: rgba(241,196,15,0.3);">
                                <td style="padding: 8px; border: 2px solid rgba(255,255,255,0.3); text-align: center; white-space: nowrap;">
                                    <strong>4. Resource Server (API —Å –¥–∞–Ω–Ω—ã–º–∏)</strong>
                                </td>
                            </tr>
                        </table>
                    </div>
                    
                    <div class="fragment">
                        <h3>Authorization Code Flow:</h3>
                        <ol>
                            <li>–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</li>
                            <li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–æ–≥–∏–Ω–∏—Ç—Å—è –∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø</li>
                            <li>–ü–æ–ª—É—á–∞–µ–º authorization code</li>
                            <li>–û–±–º–µ–Ω–∏–≤–∞–µ–º code –Ω–∞ access token</li>
                            <li>–ò—Å–ø–æ–ª—å–∑—É–µ–º token –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤</li>
                        </ol>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 16: OAuth2 –≤ FastAPI -->
            <section>
                <h2>OAuth2 –≤ FastAPI</h2>
                <div class="fragment" style="text-align: left; font-size: 0.75em; margin-bottom: 15px;">
                    <p><strong style="color: #3498db;">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>
                    <ol style="line-height: 1.5;">
                        <li><strong>/token</strong> - –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å ‚Üí –ø–æ–ª—É—á–∞–µ—Ç <span style="color: #2ecc71;">access_token</span></li>
                        <li><strong>/users/me</strong> - –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç token –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ</li>
                    </ol>
                    <p style="margin-top: 10px;"><strong style="color: #e74c3c;">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:</strong></p>
                    <ul style="line-height: 1.5;">
                        <li><strong style="color: #f39c12;">OAuth2PasswordBearer</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç token –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ "Authorization: Bearer xxx"</li>
                        <li><strong style="color: #9b59b6;">OAuth2PasswordRequestForm</strong> - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –∏–∑ —Ñ–æ—Ä–º—ã (username, password)</li>
                    </ul>
                </div>
                <pre class="fragment"><code class="python">from fastapi import FastAPI, Depends
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm

app = FastAPI()
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

@app.post("/token")
async def login(form_data: OAuth2PasswordRequestForm = Depends()):
    user = authenticate_user(form_data.username, form_data.password)
    if not user:
        raise HTTPException(401, "Incorrect credentials")
    
    access_token = create_access_token(data={"sub": user.username})
    return {"access_token": access_token, "token_type": "bearer"}

@app.get("/users/me")
async def read_users_me(token: str = Depends(oauth2_scheme)):
    user = decode_token(token)
    return user</code></pre>
            </section>

            <!-- –°–ª–∞–π–¥ 17: JWT -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üé´ JWT (JSON Web Token)</h2>
                <div style="text-align: left; font-size: 0.75em;">
                    <div class="fragment" style="margin-bottom: 15px;">
                        <p style="color: #fff; line-height: 1.6;"><strong>JWT</strong> - —ç—Ç–æ –∫–∞–∫ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ–ø—É—Å–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –∑–∞—â–∏—â—ë–Ω –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å—å—é.</p>
                    </div>
                    <div class="fragment">
                        <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ JWT:
                        <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                            <tr>
                                <td style="padding: 12px; border: 2px solid rgba(52,152,219,0.5); background: rgba(52,152,219,0.2); text-align: center; width: 33%;">
                                    <div style="font-family: monospace; color: #3498db; margin-bottom: 8px;">eyJhbGc...</div>
                                    <strong style="color: #3498db;">HEADER</strong>
                                </td>
                                <td style="padding: 12px; border: 2px solid rgba(46,204,113,0.5); background: rgba(46,204,113,0.2); text-align: center; width: 33%;">
                                    <div style="font-family: monospace; color: #2ecc71; margin-bottom: 8px;">eyJzdWI...</div>
                                    <strong style="color: #2ecc71;">PAYLOAD</strong>
                                </td>
                                <td style="padding: 12px; border: 2px solid rgba(231,76,60,0.5); background: rgba(231,76,60,0.2); text-align: center; width: 33%;">
                                    <div style="font-family: monospace; color: #e74c3c; margin-bottom: 8px;">SflKxw...</div>
                                    <strong style="color: #e74c3c;">SIGNATURE</strong>
                                </td>
                            </tr>
                        </table>
                    </div>
                    
                    <div class="fragment">
                        <h3>Header:</h3>
                        <pre><code class="json">{"alg": "HS256", "typ": "JWT"}</code></pre>
                    </div>
                    
                    <div class="fragment">
                        <h3>Payload:</h3>
                        <pre><code class="json">{
  "sub": "1234567890",
  "name": "John Doe",
  "exp": 1516242622,
  "role": "admin"
}</code></pre>
                    </div>
                    
                    <div class="fragment">
                        <h3>Signature:</h3>
                        <pre><code>HMACSHA256(
  base64(header) + "." + base64(payload),
  secret_key
)</code></pre>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 18: JWT –≤ FastAPI -->
            <section>
                <h2>JWT –≤ FastAPI</h2>
                <div class="fragment" style="text-align: left; font-size: 0.8em; margin-bottom: 15px;">
                    <p><strong style="color: #3498db;">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>
                    <ul style="line-height: 1.6;">
                        <li><strong style="color: #2ecc71;">create_access_token</strong> - —Å–æ–∑–¥–∞—ë—Ç —Ç–æ–∫–µ–Ω —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è</li>
                        <li><strong style="color: #e74c3c;">get_current_user</strong> - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω –∏ –¥–æ—Å—Ç–∞—ë—Ç –∏–∑ –Ω–µ–≥–æ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                        <li><strong style="color: #f39c12;">jwt.encode/decode</strong> - —à–∏—Ñ—Ä—É–µ—Ç/—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω —Å –ø–æ–º–æ—â—å—é —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞</li>
                    </ul>
                </div>
                <pre class="fragment"><code class="python">from jose import JWTError, jwt
from datetime import datetime, timedelta

SECRET_KEY = "your-secret-key"
ALGORITHM = "HS256"

def create_access_token(data: dict):
    to_encode = data.copy()
    expire = datetime.utcnow() + timedelta(minutes=30)
    to_encode.update({"exp": expire})
    return jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)

async def get_current_user(token: str = Depends(oauth2_scheme)):
    try:
        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
        username = payload.get("sub")
        if username is None:
            raise HTTPException(401)
        return username
    except JWTError:
        raise HTTPException(401)</code></pre>
            </section>

            <!-- –°–ª–∞–π–¥ 19: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è RBAC -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üë• –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è RBAC<br><span style="font-size: 0.6em; color: #95a5a6;">(Role-Based Access Control)</span></h2>
                <div style="text-align: left; font-size: 0.8em;">
                    <div class="fragment" style="margin-bottom: 15px;">
                        <p style="color: #fff; line-height: 1.6;"><strong>RBAC</strong> - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π: –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏ (–∞–¥–º–∏–Ω, –º–æ–¥–µ—Ä–∞—Ç–æ—Ä, —é–∑–µ—Ä) –Ω–∞–∑–Ω–∞—á–µ–Ω—ã —Å–≤–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.</p>
                        <p style="color: #2ecc71; line-height: 1.6; margin-top: 10px;"><strong>–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:</strong></p>
                        <ul style="line-height: 1.4; font-size: 0.75em;">
                            <li>üìù <strong>–ë–ª–æ–≥/–§–æ—Ä—É–º:</strong> admin –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –ø–æ—Å—Ç—ã, moderator - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, user - —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å</li>
                            <li>üõçÔ∏è <strong>E-commerce:</strong> admin —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä–∞–º–∏, customer - –ø–æ–∫—É–ø–∞–µ—Ç, guest - —Å–º–æ—Ç—Ä–∏—Ç –∫–∞—Ç–∞–ª–æ–≥</li>
                            <li>üè´ <strong>–£—á–µ–±–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:</strong> teacher —Å—Ç–∞–≤–∏—Ç –æ—Ü–µ–Ω–∫–∏, student - —Å–¥–∞—ë—Ç —Ä–∞–±–æ—Ç—ã, parent - —Å–º–æ—Ç—Ä–∏—Ç —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å</li>
                        </ul>
                    </div>
                    <div class="fragment">
                        <h3>Role-Based Access Control:</h3>
                        <pre><code class="python">ROLES = {
    "admin": ["read", "write", "delete", "manage_users"],
    "moderator": ["read", "write", "delete"],
    "user": ["read", "write"],
    "guest": ["read"]
}</code></pre>
                    </div>
                    
                    <div class="fragment">
                        <h3>Dependency –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏:</h3>
                        <pre><code class="python">def require_role(required_role: Role):
    def role_checker(current_user: User = Depends(get_current_user)):
        if current_user.role != required_role:
            raise HTTPException(403, "Access denied")
        return current_user
    return role_checker

@app.delete("/posts/{post_id}")
async def delete_post(
    post_id: int,
    user: User = Depends(require_role(Role.MODERATOR))
):
    return {"message": "Post deleted"}</code></pre>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 20: Middleware -->
            <section>
                <h2>üîß Middleware</h2>
                <div style="text-align: left; font-size: 0.8em;">
                    <div class="fragment" style="display: flex; gap: 20px;">
                        <div style="flex: 1;">
                            <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ Middleware?</h3>
                            <p style="margin-bottom: 10px; font-size: 0.85em;">–≠—Ç–æ "–ø—Ä–æ—Å–ª–æ–π–∫–∞" –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º</p>
                            <table style="width: 100%; border-collapse: collapse; font-size: 0.8em;">
                                <tr>
                                    <td style="padding: 6px; border: 2px solid rgba(52,152,219,0.5); background: rgba(52,152,219,0.2); text-align: center;">
                                        <strong style="color: #3498db;">Request</strong>
                                    </td>
                                </tr>
                                <tr><td style="padding: 2px; text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</td></tr>
                                <tr>
                                    <td style="padding: 6px; border: 2px solid rgba(155,89,182,0.5); background: rgba(155,89,182,0.2); text-align: center;">
                                        <strong style="color: #9b59b6;">Middleware 1</strong>
                                    </td>
                                </tr>
                                <tr><td style="padding: 2px; text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</td></tr>
                                <tr>
                                    <td style="padding: 6px; border: 2px solid rgba(155,89,182,0.5); background: rgba(155,89,182,0.2); text-align: center;">
                                        <strong style="color: #9b59b6;">Middleware 2</strong>
                                    </td>
                                </tr>
                                <tr><td style="padding: 2px; text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</td></tr>
                                <tr>
                                    <td style="padding: 6px; border: 2px solid rgba(46,204,113,0.5); background: rgba(46,204,113,0.2); text-align: center;">
                                        <strong style="color: #2ecc71;">Handler</strong>
                                    </td>
                                </tr>
                                <tr><td style="padding: 2px; text-align: center; font-size: 1.2em; color: #FFD700;">‚Üì</td></tr>
                                <tr>
                                    <td style="padding: 6px; border: 2px solid rgba(231,76,60,0.5); background: rgba(231,76,60,0.2); text-align: center;">
                                        <strong style="color: #e74c3c;">Response</strong>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div style="flex: 1;">
                            <h3>–ü—Ä–∏–º–µ—Ä: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                            <pre><code class="python">import time

@app.middleware("http")
async def log_requests(request: Request, call_next):
    start_time = time.time()
    
    response = await call_next(request)
    
    process_time = time.time() - start_time
    response.headers["X-Process-Time"] = str(process_time)
    
    return response</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 21: CORS -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üåê CORS</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <div class="fragment" style="margin-bottom: 15px;">
                        <p><strong style="color: #3498db;">–ß—Ç–æ —Ç–∞–∫–æ–µ CORS?</strong></p>
                        <p>Cross-Origin Resource Sharing - –º–µ—Ö–∞–Ω–∏–∑–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞</p>
                        <p style="margin-top: 10px;"><strong style="color: #2ecc71;">–ó–∞—á–µ–º –Ω—É–∂–µ–Ω?</strong></p>
                        <p>–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –∞—Ç–∞–∫: –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π —Å–∞–π—Ç –Ω–µ –º–æ–∂–µ—Ç —É–∫—Ä–∞—Å—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –≤–∞—à–µ–≥–æ API</p>
                        <p style="margin-top: 10px;"><strong style="color: #f39c12;">–ù–∞ –∫–∞–∫–æ–º —É—Ä–æ–≤–Ω–µ?</strong></p>
                        <p>–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ <strong>HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤</strong> –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º</p>
                    </div>
                    <div class="fragment">
                        <h3>–ü—Ä–æ–±–ª–µ–º–∞:</h3>
                        <div class="diagram">Frontend (localhost:3000) ‚Üí Backend (localhost:8000)
                                    ‚Üì
                              ‚ùå CORS Error</div>
                    </div>
                    
                    <div class="fragment">
                        <h3>–†–µ—à–µ–Ω–∏–µ:</h3>
                        <pre><code class="python">from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:3000",
        "https://myapp.com"
    ],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)</code></pre>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 22: Rate Limiting -->
            <section>
                <h2>‚è±Ô∏è Rate Limiting Middleware</h2>
                <div class="fragment" style="text-align: left; font-size: 0.75em; margin-bottom: 10px;">
                    <p><strong style="color: #3498db;">–ß—Ç–æ —ç—Ç–æ?</strong> –ö–∞–∫ –æ—Ö—Ä–∞–Ω–Ω–∏–∫ –Ω–∞ –≤—Ö–æ–¥–µ - —Å—á–∏—Ç–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Ç—ã –∑–∞—Ö–æ–¥–∏–ª –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å.</p>
                </div>
                <pre class="fragment"><code class="python">from collections import defaultdict
import time

request_counts = defaultdict(list)  # –°–ª–æ–≤–∞—Ä—å: IP ‚Üí [–≤—Ä–µ–º—è1, –≤—Ä–µ–º—è2, ...]
RATE_LIMIT = 10  # –ú–∞–∫—Å–∏–º—É–º 10 –∑–∞–ø—Ä–æ—Å–æ–≤
TIME_WINDOW = 60  # –ó–∞ 60 —Å–µ–∫—É–Ω–¥

@app.middleware("http")
async def rate_limit_middleware(request: Request, call_next):
    client_ip = request.client.host  # –ö—Ç–æ –ø—Ä–∏—à—ë–ª?
    current_time = time.time()       # –ö–æ–≥–¥–∞?
    
    # –®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ - –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 60 —Å–µ–∫
    request_counts[client_ip] = [
        req_time for req_time in request_counts[client_ip]
        if current_time - req_time < TIME_WINDOW
    ]
    
    # –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ - –µ—Å–ª–∏ >= 10 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí –±–ª–æ–∫–∏—Ä—É–µ–º
    if len(request_counts[client_ip]) >= RATE_LIMIT:
        raise HTTPException(429, "Too many requests")
    
    # –®–∞–≥ 3: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º - –¥–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º
    request_counts[client_ip].append(current_time)
    return await call_next(request)</code></pre>
                <div class="fragment" style="text-align: left; font-size: 0.7em; margin-top: 10px;">
                    <p><strong style="color: #2ecc71;">–ü—Ä–∏–º–µ—Ä:</strong> IP <code>192.168.1.1</code> ‚Üí <code>[10:00:00, 10:00:05]</code> ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º <code>10:00:10</code> ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚úÖ</p>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 22.5: Rate Limiting - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">‚è±Ô∏è Rate Limiting - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–¥</h2>
                <div style="text-align: left; font-size: 0.75em;">
                    <div class="fragment">
                        <h3 style="color: #3498db;">–®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏</h3>
                        <pre><code class="python">request_counts[client_ip] = [
    req_time for req_time in request_counts[client_ip]
    if current_time - req_time < TIME_WINDOW
]</code></pre>
                        <p><strong>–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:</strong> –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 60 —Å–µ–∫—É–Ω–¥</p>
                        <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> –ë—ã–ª–æ <code>[9:59:00, 10:00:00, 10:00:05]</code> ‚Üí –°—Ç–∞–ª–æ <code>[10:00:00, 10:00:05]</code></p>
                    </div>
                    
                    <div class="fragment">
                        <h3 style="color: #e74c3c;">–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞</h3>
                        <pre><code class="python">if len(request_counts[client_ip]) >= RATE_LIMIT:
    raise HTTPException(429, "Too many requests")</code></pre>
                        <p><strong>–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:</strong> –°—á–∏—Ç–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã. –ï—Å–ª–∏ >= 10 ‚Üí –±–ª–æ–∫–∏—Ä—É–µ–º</p>
                        <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>[10:00:00, ..., 10:00:10]</code> ‚Üí 10 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–±–ª–æ–∫–∏—Ä—É–µ–º ‚ùå</p>
                    </div>
                    
                    <div class="fragment">
                        <h3 style="color: #2ecc71;">–®–∞–≥ 3: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–ø—Ä–æ—Å</h3>
                        <pre><code class="python">request_counts[client_ip].append(current_time)
return await call_next(request)</code></pre>
                        <p><strong>–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:</strong> –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ —Å–ø–∏—Å–æ–∫ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å</p>
                        <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> <code>[10:00:00, 10:00:05]</code> ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º <code>10:00:10</code> ‚Üí <code>[10:00:00, 10:00:05, 10:00:10]</code> ‚úÖ</p>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 22.6: Rate Limiting - –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã -->
            <section>
                <h2>‚è±Ô∏è Rate Limiting - –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <p style="margin-bottom: 20px;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å IP <strong style="color: #3498db;">192.168.1.1</strong> –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã:</p>
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr style="background: rgba(52,152,219,0.3);">
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><strong>–í—Ä–µ–º—è</strong></td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><strong>–°–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤</strong></td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç</strong></td>
                        </tr>
                        <tr style="background: rgba(46,204,113,0.2);">
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">10:00:00</td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><code>[10:00:00]</code></td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">‚úÖ OK (1 –∑–∞–ø—Ä–æ—Å)</td>
                        </tr>
                        <tr style="background: rgba(46,204,113,0.2);">
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">10:00:05</td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><code>[10:00:00, 10:00:05]</code></td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">‚úÖ OK (2 –∑–∞–ø—Ä–æ—Å–∞)</td>
                        </tr>
                        <tr style="background: rgba(46,204,113,0.2);">
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">10:00:10</td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><code>[10:00:00, ..., 10:00:10]</code></td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">‚úÖ OK (10 –∑–∞–ø—Ä–æ—Å–æ–≤ - –ª–∏–º–∏—Ç)</td>
                        </tr>
                        <tr style="background: rgba(231,76,60,0.2);">
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">10:00:15</td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><code>[10:00:00, ..., 10:00:10]</code></td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">‚ùå 429 (—É–∂–µ 10!)</td>
                        </tr>
                        <tr style="background: rgba(46,204,113,0.2);">
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">10:01:01</td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);"><code>[10:00:05, ..., 10:01:01]</code></td>
                            <td style="padding: 12px; border: 2px solid rgba(255,255,255,0.3);">‚úÖ OK (—Å—Ç–∞—Ä—ã–µ —É–¥–∞–ª–µ–Ω—ã)</td>
                        </tr>
                    </table>
                    <div class="fragment" style="margin-top: 20px;">
                        <h3 style="color: #2ecc71;">–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:</h3>
                        <ul style="font-size: 0.9em;">
                            <li>üîê <strong>API –∫–ª—é—á–∏</strong> - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Ç–∞—Ä–∏—Ñ—É (100 req/—á–∞—Å)</li>
                            <li>üõ°Ô∏è <strong>–ó–∞—â–∏—Ç–∞ –æ—Ç DDoS</strong> - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º–∞—Å—Å–æ–≤—ã—Ö –∞—Ç–∞–∫</li>
                            <li>üí∞ <strong>–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è</strong> - Free: 100/—á–∞—Å, Pro: 10000/—á–∞—Å</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 23: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
            <section data-background-color="#16213e">
                <h2 style="color: #FFD700;">üß™ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                <div style="text-align: left; font-size: 0.8em;">
                    <div class="fragment">
                        <h3>–ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ç–µ—Å—Ç—ã?</h3>
                        <div class="diagram">–ë–µ–∑ —Ç–µ—Å—Ç–æ–≤:
–ò–∑–º–µ–Ω–∏–ª –∫–æ–¥ ‚Üí –ü—Ä–æ–≤–µ—Ä–∏–ª –≤—Ä—É—á–Ω—É—é ‚Üí 30 –º–∏–Ω—É—Ç

–° —Ç–µ—Å—Ç–∞–º–∏:
–ò–∑–º–µ–Ω–∏–ª –∫–æ–¥ ‚Üí pytest ‚Üí 5 —Å–µ–∫—É–Ω–¥ ‚úÖ</div>
                    </div>
                    
                    <div class="fragment">
                        <h3>–¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤:</h3>
                        <ul>
                            <li><strong>Unit Tests</strong> - —Ç–µ—Å—Ç–∏—Ä—É—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏</li>
                            <li><strong>Integration Tests</strong> - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
                            <li><strong>E2E Tests</strong> - –≤–µ—Å—å flow</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 24: –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ -->
            <section>
                <h2>–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞</h2>
                <div class="fragment" style="text-align: left; font-size: 0.75em; margin-bottom: 10px;">
                    <p><strong style="color: #3498db;">TestClient</strong> - –∏–º–∏—Ç–∏—Ä—É–µ—Ç –±—Ä–∞—É–∑–µ—Ä, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ API –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</p>
                </div>
                <pre class="fragment"><code class="python">from fastapi.testclient import TestClient

client = TestClient(app)  # –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç

def test_create_user():
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º POST –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    response = client.post(
        "/users",
        json={"username": "test", "email": "test@example.com"}
    )
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º: —Å—Ç–∞—Ç—É—Å 201 (—Å–æ–∑–¥–∞–Ω)
    assert response.status_code == 201
    data = response.json()
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º: username –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
    assert data["username"] == "test"
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º: –µ—Å—Ç—å id
    assert "id" in data

def test_login():
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–Ω
    response = client.post(
        "/token",
        data={"username": "test", "password": "secret"}
    )
    assert response.status_code == 200
    assert "access_token" in response.json()  # –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω

def test_protected_endpoint():
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞—â–∏—â—ë–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
    response = client.get("/users/me")
    assert response.status_code == 401  # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É</code></pre>
                <div class="fragment" style="text-align: left; font-size: 0.7em; margin-top: 10px;">
                    <p><strong style="color: #2ecc71;">–ó–∞–ø—É—Å–∫:</strong> <code>pytest test_main.py</code> ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å <code>test_</code></p>
                </div>
            </section>

            <!-- –°–ª–∞–π–¥ 25: –ó–∞–∫–ª—é—á–µ–Ω–∏–µ -->
            <section data-background-color="#1a1a2e">
                <h2 style="color: #FFD700;">üéØ –ß—Ç–æ –º—ã –∏–∑—É—á–∏–ª–∏</h2>
                <div style="text-align: left; font-size: 0.85em;">
                    <ul class="fragment">
                        <li>‚úÖ <strong>–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è</strong> - APIRouter –¥–ª—è –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</li>
                        <li>‚úÖ <strong>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</strong> - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (API, Service, Repository)</li>
                        <li>‚úÖ <strong>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</strong> - Basic Auth, OAuth2, JWT</li>
                        <li>‚úÖ <strong>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</strong> - RBAC, Permissions</li>
                        <li>‚úÖ <strong>Middleware</strong> - CORS, Rate Limiting, Logging</li>
                        <li>‚úÖ <strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> - Unit, Integration, E2E</li>
                    </ul>
                    
                    <div class="fragment" style="margin-top: 30px;">
                        <h3 style="color: #2ecc71;">Best Practices:</h3>
                        <ul>
                            <li>üöÄ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ async/await</li>
                            <li>üîê –í—Å–µ–≥–¥–∞ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ</li>
                            <li>üìä –õ–æ–≥–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã</li>
                            <li>üß™ –ü–æ–∫—Ä—ã–≤–∞–π—Ç–µ –∫–æ–¥ —Ç–µ—Å—Ç–∞–º–∏ (80%+)</li>
                            <li>üîÑ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)</li>
                            <li>üõ°Ô∏è –ó–∞—â–∏—â–∞–π—Ç–µ—Å—å –æ—Ç –∞—Ç–∞–∫</li>
                        </ul>
                    </div>
                </div>
            </section>

        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div class="navigation-panel" id="navigationPanel">
        <div class="nav-grid" id="navGrid"></div>
    </div>

    <style>
        .navigation-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            background: rgba(22, 33, 62, 0.95);
            border: 2px solid rgba(255, 215, 0, 0.3);
            padding: 7px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            z-index: 1000;
        }
        
        .nav-grid {
            display: flex;
            flex-wrap: nowrap;
            gap: 2px;
            overflow-x: auto;
        }
        
        .nav-button {
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 3px;
            font-size: 6px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .nav-button:hover {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            transform: scale(1.1);
        }
        
        .nav-button.active {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #000;
        }
    </style>

    <script src="../3-4/js/reveal.min.js"></script>
    <script src="../3-4/js/notes.min.js"></script>
    <script src="../3-4/js/markdown.min.js"></script>
    <script src="../3-4/js/highlight.min.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            transition: 'slide',
            controls: true,
            progress: true,
            slideNumber: false,
            center: true,
            plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
        });

        function createNavigationButtons() {
            const navGrid = document.getElementById('navGrid');
            for (let i = 1; i <= 34; i++) {
                const button = document.createElement('div');
                button.className = 'nav-button';
                button.textContent = i;
                button.onclick = () => Reveal.slide(i - 1, 0);
                navGrid.appendChild(button);
            }
        }

        function updateActiveButton() {
            const buttons = document.querySelectorAll('.nav-button');
            const currentSlide = Reveal.getIndices().h;
            buttons.forEach((button, index) => {
                button.classList.toggle('active', index === currentSlide);
            });
        }

        Reveal.on('ready', () => {
            createNavigationButtons();
            updateActiveButton();
        });
        
        Reveal.on('slidechanged', updateActiveButton);
    </script>
</body>
</html>
