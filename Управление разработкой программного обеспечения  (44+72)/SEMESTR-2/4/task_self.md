# –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞: —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã PostgreSQL

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `task.md` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—à–µ–Ω–∏–π.

---

# üìò –ò—Å—Ö–æ–¥–Ω–∞—è –º–æ–¥–µ–ª—å

```sql
video_cards (
    id          BIGSERIAL,
    name        TEXT,
    price       NUMERIC(12,2),
    description TEXT,
    created_at  TIMESTAMPTZ
)
```

---

# üìã –¢–∞–±–ª–∏—Ü–∞ price_log (–¥–ª—è –∑–∞–¥–∞–Ω–∏–π 6, 7, 10)

```sql
CREATE TABLE price_log (
    id         BIGSERIAL PRIMARY KEY,
    card_id    BIGINT NOT NULL,
    old_price  NUMERIC(12,2),
    new_price  NUMERIC(12,2),
    changed_at TIMESTAMPTZ DEFAULT now()
);
```

---

# üü¢ –£—Ä–æ–≤–µ–Ω—å 1 ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —É—Å–ª–æ–≤–∏—è

---

## 1 –ö–∞—Ç–µ–≥–æ—Ä–∏—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã –ø–æ —Ü–µ–Ω–µ

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ —Ü–µ–Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ–≥–º–µ–Ω—Ç: `–±—é–¥–∂–µ—Ç` (< 70k), `—Å—Ä–µ–¥–Ω–∏–π` (< 100k), `–≤—ã—Å–æ–∫–∏–π` (< 150k), `—Ñ–ª–∞–≥–º–∞–Ω` (–∏–Ω–∞—á–µ). –î–ª—è `NULL` –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `'–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'`.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
SELECT price_category(85000);
SELECT price_category(NULL);
SELECT price_category(200000);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

| price_category |
|----------------|
| —Å—Ä–µ–¥–Ω–∏–π        |

| price_category |
|----------------|
| –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ     |

| price_category |
|----------------|
| —Ñ–ª–∞–≥–º–∞–Ω        |

---

## 2 –¢–æ–ø-N –≤–∏–¥–µ–æ–∫–∞—Ä—Ç –ø–æ —Ü–µ–Ω–µ

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî –ø–æ—Ä–æ–≥ —Ü–µ–Ω—ã `p_min_price` –∏ —á–∏—Å–ª–æ `p_limit`. –§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è (—á–µ—Ä–µ–∑ –≤–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é `price_category`). –í—ã–≤–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã –Ω–µ –¥–µ—à–µ–≤–ª–µ –ø–æ—Ä–æ–≥–∞, –Ω–µ –±–æ–ª—å—à–µ `p_limit` —Å—Ç—Ä–æ–∫, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ –ø–æ —É–±—ã–≤–∞–Ω–∏—é.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
SELECT * FROM top_cards_by_price(50000, 5);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

| name     | price   | category |
|----------|---------|----------|
| RTX 4090 | 150000  | —Ñ–ª–∞–≥–º–∞–Ω  |
| RTX 4080 | 95000   | —Å—Ä–µ–¥–Ω–∏–π  |
| RX 7900  | 89000   | —Å—Ä–µ–¥–Ω–∏–π  |
| RTX 4070 | 65000   | –±—é–¥–∂–µ—Ç   |
| RX 7800  | 58000   | –±—é–¥–∂–µ—Ç   |

---

## 3 –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ –º–∞—Å—Å–∏–≤—É id

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ id –≤–∏–¥–µ–æ–∫–∞—Ä—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É: `id`, `name`, `price` ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ —Å —ç—Ç–∏–º–∏ id.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
SELECT * FROM cart_by_ids(ARRAY[1, 2, 3]::BIGINT[]);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

| id | name     | price  |
|----|----------|--------|
| 1  | RTX 4090 | 150000 |
| 2  | RTX 4080 | 95000  |
| 3  | RX 7900  | 89000  |

---

# üü° –£—Ä–æ–≤–µ–Ω—å 2 ‚Äî –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

---

## 4 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥—É–±–ª–∏–∫–∞—Ç–∞ –ø–æ –∏–º–µ–Ω–∏

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: `p_name`, `p_price`, `p_description`, OUT `new_id BIGINT`. –ï—Å–ª–∏ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ —Å —Ç–∞–∫–∏–º `name` —É–∂–µ –µ—Å—Ç—å ‚Äî –≤ `new_id` –≤–µ—Ä–Ω—É—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `id`. –ò–Ω–∞—á–µ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å INSERT –∏ –≤–µ—Ä–Ω—É—Ç—å –Ω–æ–≤—ã–π `id`.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
CALL upsert_video_card('RTX 4080', 95000, '–ò–≥—Ä–æ–≤–∞—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞', NULL);

-- —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º new_id:
DO $$
DECLARE out_id BIGINT;
BEGIN
  CALL upsert_video_card('RTX 4090', 150000, 'Flagship', out_id);
  RAISE NOTICE 'id: %', out_id;
END;
$$;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ –∫–æ–Ω—Å–æ–ª–∏/–ª–æ–≥–∞—Ö):**

| –†–µ–∑—É–ª—å—Ç–∞—Ç   |
|-------------|
| NOTICE: id: 7 |

*–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ –¥–ª—è –Ω–æ–≤–æ–π –∫–∞—Ä—Ç—ã ‚Äî –Ω–æ–≤—ã–π id; –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–∑–æ–≤–µ —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º ‚Äî id —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π.*

---

## 5 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ –º–∞—Å—Å–∏–≤—É id

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É: –º–∞—Å—Å–∏–≤ id, –Ω–æ–≤–∞—è —Ü–µ–Ω–∞. –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É —É –≤—Å–µ—Ö –≤–∏–¥–µ–æ–∫–∞—Ä—Ç —Å —ç—Ç–∏–º–∏ id. –ß–µ—Ä–µ–∑ OUT-–ø–∞—Ä–∞–º–µ—Ç—Ä –≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
DO $$
DECLARE n INTEGER;
BEGIN
  CALL update_prices_by_ids(ARRAY[1, 2, 3]::BIGINT[], 89999, n);
  RAISE NOTICE '–û–±–Ω–æ–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫: %', n;
END;
$$;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ –∫–æ–Ω—Å–æ–ª–∏/–ª–æ–≥–∞—Ö):**

| –†–µ–∑—É–ª—å—Ç–∞—Ç              |
|------------------------|
| NOTICE: –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫: 3 |

---

## 6 –£–¥–∞–ª–µ–Ω–∏–µ –¥–µ—à—ë–≤—ã—Ö —Å –∑–∞–ø–∏—Å—å—é –≤ –ª–æ–≥ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –ø–æ—Ä–æ–≥ `p_price` –∏ OUT `deleted_count`. –î–ª—è –∫–∞–∂–¥–æ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã —Å —Ü–µ–Ω–æ–π –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞: –≤—Å—Ç–∞–≤–∏—Ç—å –≤ `price_log` –∑–∞–ø–∏—Å—å (card_id, old_price, new_price = NULL), –∑–∞—Ç–µ–º —É–¥–∞–ª–∏—Ç—å —ç—Ç–∏ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã. –í OUT –≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
DO $$
DECLARE n INTEGER;
BEGIN
  CALL archive_cheaper_than(40000, n);
  RAISE NOTICE '–£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫: %', n;
END;
$$;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ –∫–æ–Ω—Å–æ–ª–∏/–ª–æ–≥–∞—Ö):**

| –†–µ–∑—É–ª—å—Ç–∞—Ç            |
|----------------------|
| NOTICE: –£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫: 2 |

*–ü–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –≤ `price_log` –¥–æ–±–∞–≤–ª–µ–Ω—ã 2 –∑–∞–ø–∏—Å–∏ —Å `new_price = NULL`.*

---

# üü† –£—Ä–æ–≤–µ–Ω—å 3 ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞–±–æ—Ä–æ–≤

---

## 7 –ü—Ä–∞–≤–∏–ª–æ: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω –ø—Ä–∏ UPDATE

**–ó–∞–¥–∞–Ω–∏–µ:**  
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `video_cards`: –ø—Ä–∏ UPDATE –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ `price_log` —Å—Ç—Ä–æ–∫—É —Å–æ —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π —Ü–µ–Ω–æ–π (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OLD –∏ NEW –≤ –¥–µ–π—Å—Ç–≤–∏–∏ –ø—Ä–∞–≤–∏–ª–∞).

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ (–ø—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ª—é–±–æ–º UPDATE):**
```sql
UPDATE video_cards SET price = 99000 WHERE id = 1;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

- –°–æ–æ–±—â–µ–Ω–∏–µ –°–£–ë–î: `UPDATE 1`
- –í —Ç–∞–±–ª–∏—Ü–µ `price_log` –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞:

| id | card_id | old_price | new_price | changed_at          |
|----|---------|-----------|-----------|---------------------|
| 1  | 1       | 85000     | 99000     | 2025-02-13 12:00:00 |

*–ï—Å–ª–∏ –≤–∞—à–∞ –≤–µ—Ä—Å–∏—è PostgreSQL –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç OLD/NEW –≤ –ø—Ä–∞–≤–∏–ª–µ, —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ —Ç–æ –∂–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ç—Ä–∏–≥–≥–µ—Ä–∞.*

---

## 8 –ü–æ—Ö–æ–∂–∏–µ –ø–æ —Ü–µ–Ω–µ (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–∞)

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `p_card_id`, `p_percent` (–Ω–∞–ø—Ä–∏–º–µ—Ä 10). –í–µ—Ä–Ω—É—Ç—å —Ç–∞–±–ª–∏—Ü—É `(id, name, price)` ‚Äî –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö —Ü–µ–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ü–µ–Ω—ã –¥–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã –Ω–µ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ p_percent%, –∫—Ä–æ–º–µ —Å–∞–º–æ–π –∫–∞—Ä—Ç—ã. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç 10 —Å—Ç—Ä–æ–∫–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
SELECT * FROM similar_by_price(1, 10);
SELECT * FROM similar_by_price(5, 15);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è –∫–∞—Ä—Ç—ã id=1 —Å —Ü–µ–Ω–æ–π 150000, ¬±10%):**

| id | name        | price  |
|----|-------------|--------|
| 2  | RTX 4080    | 95000  |
| 3  | RX 7900     | 89000  |
| 4  | RTX 4070 Ti | 82000  |

---

## 9 –°—É–º–º–∞ –∏ –º–∞—Å—Å–∏–≤ –∏–º—ë–Ω –ø–æ –º–∞—Å—Å–∏–≤—É id

**–ó–∞–¥–∞–Ω–∏–µ:**  
–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ id –≤–∏–¥–µ–æ–∫–∞—Ä—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É: —Å—É–º–º–∞ —Ü–µ–Ω –∏ –º–∞—Å—Å–∏–≤ –∏–º—ë–Ω –≤ –ø–æ—Ä—è–¥–∫–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –ø–æ—Ä—è–¥–∫—É id –≤ –º–∞—Å—Å–∏–≤–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä `RETURNS TABLE(total NUMERIC, names TEXT[])`).

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```sql
SELECT * FROM cart_totals(ARRAY[1, 2, 3]::BIGINT[]);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

| total  | names                        |
|--------|------------------------------|
| 334000 | {RTX 4090, RTX 4080, RX 7900} |

---

## 10 –ü—Ä–∞–≤–∏–ª–æ: –∑–∞–ø—Ä–µ—Ç —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–∞–ø–∏—Å–∏ –≤ price_log

**–ó–∞–¥–∞–Ω–∏–µ:**  
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `video_cards`: –ø—Ä–∏ DELETE –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Ö —Å—Ç—Ä–æ–∫, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –≤ `price_log` –ø–æ —ç—Ç–æ–º—É `card_id`. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —É–¥–∞–ª—è—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ DO INSTEAD: –≤—ã–ø–æ–ª–Ω—è—Ç—å DELETE —Ç–æ–ª—å–∫–æ –ø–æ id, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –≤ `price_log` –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π.

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ (–ø—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ DELETE):**
```sql
DELETE FROM video_cards WHERE id = 5;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

| –°–ª—É—á–∞–π                      | –†–µ–∑—É–ª—å—Ç–∞—Ç      |
|-----------------------------|----------------|
| –í `price_log` –Ω–µ—Ç card_id=5 | `DELETE 1` ‚Äî —Å—Ç—Ä–æ–∫–∞ —É–¥–∞–ª–µ–Ω–∞ |
| –í `price_log` –µ—Å—Ç—å card_id=5 | `DELETE 0` ‚Äî —Å—Ç—Ä–æ–∫–∞ –Ω–µ —É–¥–∞–ª–µ–Ω–∞ (–ø—Ä–∞–≤–∏–ª–æ –æ—Ç–º–µ–Ω–∏–ª–æ —É–¥–∞–ª–µ–Ω–∏–µ) |

*–°—Ç—Ä–æ–∫–∏ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤ `price_log` –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è.*

---

–ò—Ç–æ–≥–æ: **10 –∑–∞–¥–∞–Ω–∏–π**. –†–µ—à–µ–Ω–∏—è ‚Äî –≤ —Ñ–∞–π–ª–µ `task.md`.
