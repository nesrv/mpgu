# MongoDB Tutorial - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ

## üéØ –¶–µ–ª—å –∑–∞–Ω—è—Ç–∏—è
–ò–∑—É—á–∏—Ç—å –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å MongoDB —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏ Python

## üìö –¢–µ–æ—Ä–∏—è

### –ß—Ç–æ —Ç–∞–∫–æ–µ MongoDB?
- **NoSQL** –¥–æ–∫—É–º–µ–Ω—Ç–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **BSON** (Binary JSON)
- **–ö–æ–ª–ª–µ–∫—Ü–∏–∏** –≤–º–µ—Å—Ç–æ —Ç–∞–±–ª–∏—Ü
- **–î–æ–∫—É–º–µ–Ω—Ç—ã** –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```
Database (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
  ‚îî‚îÄ‚îÄ Collection (–ö–æ–ª–ª–µ–∫—Ü–∏—è) = –¢–∞–±–ª–∏—Ü–∞ –≤ SQL
      ‚îî‚îÄ‚îÄ Document (–î–æ–∫—É–º–µ–Ω—Ç) = –°—Ç—Ä–æ–∫–∞ –≤ SQL
          ‚îî‚îÄ‚îÄ Field (–ü–æ–ª–µ) = –ö–æ–ª–æ–Ω–∫–∞ –≤ SQL
```

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏–∫–∞ 1: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
```bash
docker-compose exec mongodb mongosh --username student --password password
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
show dbs

// –°–æ–∑–¥–∞—Ç—å/–≤—ã–±—Ä–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
use mystore

// –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –ë–î
db

// –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏
show collections
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –í—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
db.—Ç–æ–≤–∞—Ä—ã.insertOne({
  –Ω–∞–∑–≤–∞–Ω–∏–µ: "–ù–æ—É—Ç–±—É–∫",
  —Ü–µ–Ω–∞: 50000,
  –∫–∞—Ç–µ–≥–æ—Ä–∏—è: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
  –≤–ù–∞–ª–∏—á–∏–∏: true
})

// –í—Å—Ç–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
db.—Ç–æ–≤–∞—Ä—ã.insertMany([
  {–Ω–∞–∑–≤–∞–Ω–∏–µ: "–ú—ã—à—å", —Ü–µ–Ω–∞: 1500, –∫–∞—Ç–µ–≥–æ—Ä–∏—è: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", –≤–ù–∞–ª–∏—á–∏–∏: true},
  {–Ω–∞–∑–≤–∞–Ω–∏–µ: "–ö–Ω–∏–≥–∞", —Ü–µ–Ω–∞: 800, –∫–∞—Ç–µ–≥–æ—Ä–∏—è: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", –≤–ù–∞–ª–∏—á–∏–∏: false},
  {–Ω–∞–∑–≤–∞–Ω–∏–µ: "–¢–µ–ª–µ—Ñ–æ–Ω", —Ü–µ–Ω–∞: 30000, –∫–∞—Ç–µ–≥–æ—Ä–∏—è: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", –≤–ù–∞–ª–∏—á–∏–∏: true}
])
```

### –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –ù–∞–π—Ç–∏ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
db.—Ç–æ–≤–∞—Ä—ã.find()

// –ù–∞–π—Ç–∏ —Å —É—Å–ª–æ–≤–∏–µ–º
db.—Ç–æ–≤–∞—Ä—ã.find({–∫–∞—Ç–µ–≥–æ—Ä–∏—è: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"})

// –ù–∞–π—Ç–∏ –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
db.—Ç–æ–≤–∞—Ä—ã.findOne({–Ω–∞–∑–≤–∞–Ω–∏–µ: "–ù–æ—É—Ç–±—É–∫"})

// –ü–æ–∏—Å–∫ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏
db.—Ç–æ–≤–∞—Ä—ã.find({—Ü–µ–Ω–∞: {$gt: 5000}})  // –±–æ–ª—å—à–µ 5000
db.—Ç–æ–≤–∞—Ä—ã.find({—Ü–µ–Ω–∞: {$lt: 2000}})  // –º–µ–Ω—å—à–µ 2000
db.—Ç–æ–≤–∞—Ä—ã.find({–≤–ù–∞–ª–∏—á–∏–∏: true})       // —Ä–∞–≤–Ω–æ true
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –û–±–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
db.—Ç–æ–≤–∞—Ä—ã.updateOne(
  {–Ω–∞–∑–≤–∞–Ω–∏–µ: "–ù–æ—É—Ç–±—É–∫"},
  {$set: {—Ü–µ–Ω–∞: 45000}}
)

// –û–±–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
db.—Ç–æ–≤–∞—Ä—ã.updateMany(
  {–∫–∞—Ç–µ–≥–æ—Ä–∏—è: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"},
  {$set: {–≥–∞—Ä–∞–Ω—Ç–∏—è: "2 –≥–æ–¥–∞"}}
)

// –£–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
db.—Ç–æ–≤–∞—Ä—ã.updateOne(
  {–Ω–∞–∑–≤–∞–Ω–∏–µ: "–ú—ã—à—å"},
  {$inc: {—Ü–µ–Ω–∞: 200}}
)
```

### –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```javascript
// –£–¥–∞–ª–∏—Ç—å –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
db.—Ç–æ–≤–∞—Ä—ã.deleteOne({–Ω–∞–∑–≤–∞–Ω–∏–µ: "–ö–Ω–∏–≥–∞"})

// –£–¥–∞–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
db.—Ç–æ–≤–∞—Ä—ã.deleteMany({–≤–ù–∞–ª–∏—á–∏–∏: false})

// –£–¥–∞–ª–∏—Ç—å –≤—Å—é –∫–æ–ª–ª–µ–∫—Ü–∏—é
db.—Ç–æ–≤–∞—Ä—ã.drop()
```

## üêç –ü—Ä–∞–∫—Ç–∏–∫–∞ 2: Python + PyMongo

### –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª mongo_practice.py
```python
from pymongo import MongoClient

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
client = MongoClient("mongodb://student:password@localhost:27017/")
db = client.mystore
collection = db.products

# –í—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
products = [
    {"name": "Laptop", "price": 50000, "category": "Electronics"},
    {"name": "Mouse", "price": 1500, "category": "Electronics"},
    {"name": "Book", "price": 800, "category": "Education"}
]

result = collection.insert_many(products)
print(f"–í—Å—Ç–∞–≤–ª–µ–Ω–æ {len(result.inserted_ids)} –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")

# –ü–æ–∏—Å–∫
print("\n–í—Å–µ —Ç–æ–≤–∞—Ä—ã:")
for product in collection.find():
    print(f"- {product['name']}: {product['price']} —Ä—É–±.")

print("\n–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞:")
for product in collection.find({"category": "Electronics"}):
    print(f"- {product['name']}: {product['price']} —Ä—É–±.")

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
collection.update_one(
    {"name": "Laptop"},
    {"$set": {"price": 45000}}
)

# –ü–æ–¥—Å—á–µ—Ç
count = collection.count_documents({"category": "Electronics"})
print(f"\n–¢–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Electronics: {count}")

# –£–¥–∞–ª–µ–Ω–∏–µ
collection.delete_one({"name": "Book"})
print("–ö–Ω–∏–≥–∞ —É–¥–∞–ª–µ–Ω–∞")
```

### –ó–∞–ø—É—Å–∫ Python —Å–∫—Ä–∏–ø—Ç–∞
```bash
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
python mongo_practice.py
```

## üéØ –ó–∞–¥–∞–Ω–∏—è –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### –ó–∞–¥–∞–Ω–∏–µ 1: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
–°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `orders` —Å –∑–∞–∫–∞–∑–∞–º–∏:
```javascript
db.orders.insertMany([
  {
    orderId: 1001,
    customer: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    items: [
      {product: "Laptop", quantity: 1, price: 50000},
      {product: "Mouse", quantity: 2, price: 1500}
    ],
    total: 53000,
    status: "delivered",
    date: new Date()
  },
  {
    orderId: 1002,
    customer: "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
    items: [
      {product: "Phone", quantity: 1, price: 30000}
    ],
    total: 30000,
    status: "pending",
    date: new Date()
  }
])
```

**–ó–∞–¥–∞—á–∏:**
1. –ù–∞–π—Ç–∏ –≤—Å–µ –∑–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
2. –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "pending"
3. –ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑—ã –Ω–∞ —Å—É–º–º—É –±–æ–ª—å—à–µ 40000
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ 1002 –Ω–∞ "shipped"
5. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ "deliveryDate" –∫ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –∑–∞–∫–∞–∑–∞–º

### –ó–∞–¥–∞–Ω–∏–µ 2: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```javascript
// –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É
db.orders.aggregate([
  {$group: {_id: "$status", count: {$sum: 1}, totalAmount: {$sum: "$total"}}}
])

// –°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
db.orders.aggregate([
  {$group: {_id: null, avgTotal: {$avg: "$total"}}}
])
```

### –ó–∞–¥–∞–Ω–∏–µ 3: –ò–Ω–¥–µ–∫—Å—ã
```javascript
// –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
db.orders.createIndex({customer: 1})
db.orders.createIndex({status: 1})

// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω–¥–µ–∫—Å—ã
db.orders.getIndexes()
```

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- `$eq` - —Ä–∞–≤–Ω–æ
- `$ne` - –Ω–µ —Ä–∞–≤–Ω–æ  
- `$gt` - –±–æ–ª—å—à–µ
- `$gte` - –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
- `$lt` - –º–µ–Ω—å—à–µ
- `$lte` - –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
- `$in` - –≤ –º–∞—Å—Å–∏–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π
- `$nin` - –Ω–µ –≤ –º–∞—Å—Å–∏–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
- `$and` - –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò
- `$or` - –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò
- `$not` - –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ù–ï

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `$set` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
- `$inc` - —É–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞ —á–∏—Å–ª–æ
- `$push` - –¥–æ–±–∞–≤–∏—Ç—å –≤ –º–∞—Å—Å–∏–≤
- `$pull` - —É–¥–∞–ª–∏—Ç—å –∏–∑ –º–∞—Å—Å–∏–≤–∞

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å SQL

| SQL | MongoDB |
|-----|---------|
| `SELECT * FROM products` | `db.products.find()` |
| `SELECT * FROM products WHERE price > 1000` | `db.products.find({price: {$gt: 1000}})` |
| `UPDATE products SET price = 2000 WHERE name = 'Mouse'` | `db.products.updateOne({name: "Mouse"}, {$set: {price: 2000}})` |
| `DELETE FROM products WHERE category = 'Old'` | `db.products.deleteMany({category: "Old"})` |
| `INSERT INTO products VALUES (...)` | `db.products.insertOne({...})` |

## üéì –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `users` —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
2. –î–æ–±–∞–≤–∏—Ç—å 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–ª—è–º–∏: name, email, age, city
3. –ù–∞–ø–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∏ –≥–æ—Ä–æ–¥—É
4. –°–æ–∑–¥–∞—Ç—å Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π
5. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [MongoDB Manual](https://docs.mongodb.com/manual/)
- [PyMongo Documentation](https://pymongo.readthedocs.io/)
- [MongoDB University](https://university.mongodb.com/) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—É—Ä—Å—ã