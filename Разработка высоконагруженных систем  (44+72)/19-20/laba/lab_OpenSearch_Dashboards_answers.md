# –†–∞–±–æ—Ç–∞ —Å OpenSearch Dashboards

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
### –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –¥–æ–∫–µ—Ä–µ OpenSearch –∏ Dashboards

```sh
# docker-compose.yml
services:
  opensearch:
    image: opensearchproject/opensearch:latest
    env_file: .env
    ports:
      - "9200:9200"
      - "9600:9600"

  opensearch-dashboards:
    image: opensearchproject/opensearch-dashboards:latest
    env_file: .env
    ports:
      - "5601:5601"
    depends_on:
      - opensearch

```

```sh
# .env
# –ü–æ—Ä—Ç—ã
OPENSEARCH_PORT=9200
OPENSEARCH_PERF_PORT=9600
DASHBOARDS_PORT=5601

# OpenSearch –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
discovery.type=single-node
DISABLE_SECURITY_PLUGIN=true

# Dashboards –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
OPENSEARCH_HOSTS=http://opensearch:9200
DISABLE_SECURITY_DASHBOARDS_PLUGIN=true
```


## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### 1. –û—Ç–∫—Ä—ã—Ç—å Dashboards
–ü–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5601

### 2. –û—Ç–∫—Ä—ã—Ç—å Dev Tools
–í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π—Ç–∏ **Dev Tools** (–∏–∫–æ–Ω–∫–∞ –≥–∞–µ—á–Ω–æ–≥–æ –∫–ª—é—á–∞)

## üì• –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å

```json
PUT /books
{
  "mappings": {
    "properties": {
      "title": {"type": "text"},
      "author": {"type": "keyword"},
      "year": {"type": "integer"},
      "genre": {"type": "keyword"},
      "annotation": {"type": "text"}
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `text` - –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è)
- `keyword` - –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–π (–∞–≤—Ç–æ—Ä, –∂–∞–Ω—Ä)
- `integer` - –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–≥–æ–¥)

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–Ω–∏–≥–∏

**–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Dev Tools (–ø–æ –æ–¥–Ω–æ–π –∫–Ω–∏–≥–µ)**

```json
POST /books/_doc
{
  "title": "–í–æ–π–Ω–∞ –∏ –º–∏—Ä",
  "author": "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π",
  "year": 1869,
  "genre": "—Ä–æ–º–∞–Ω",
  "annotation": "–≠–ø–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω –æ —Ä—É—Å—Å–∫–æ–º –æ–±—â–µ—Å—Ç–≤–µ –≤ —ç–ø–æ—Ö—É –≤–æ–π–Ω –ø—Ä–æ—Ç–∏–≤ –ù–∞–ø–æ–ª–µ–æ–Ω–∞."
}
```

*–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏ –∏–∑ books-dataset.json*

**–°–ø–æ—Å–æ–± 2: Bulk API (–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É)**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `books-bulk.ndjson` –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{"index":{"_index":"books"}}
{"title":"–í–æ–π–Ω–∞ –∏ –º–∏—Ä","author":"–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π","year":1869,"genre":"—Ä–æ–º–∞–Ω","annotation":"–≠–ø–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω –æ —Ä—É—Å—Å–∫–æ–º –æ–±—â–µ—Å—Ç–≤–µ –≤ —ç–ø–æ—Ö—É –≤–æ–π–Ω –ø—Ä–æ—Ç–∏–≤ –ù–∞–ø–æ–ª–µ–æ–Ω–∞."}
{"index":{"_index":"books"}}
{"title":"–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ","author":"–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π","year":1866,"genre":"—Ä–æ–º–∞–Ω","annotation":"–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω –æ –±–µ–¥–Ω–æ–º —Å—Ç—É–¥–µ–Ω—Ç–µ –†–∞—Å–∫–æ–ª—å–Ω–∏–∫–æ–≤–µ."}
```

–ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ curl:
```bash
curl -X POST "http://localhost:9200/_bulk" -H "Content-Type: application/x-ndjson" --data-binary @books-bulk.ndjson
```

**–°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `load_books.py`:
```python
import json
from opensearchpy import OpenSearch

client = OpenSearch(
    hosts=[{'host': 'localhost', 'port': 9200}],
    use_ssl=False
)

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON
with open('LAB_ELASTIC/books-dataset.json', 'r', encoding='utf-8') as f:
    books = json.load(f)

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–∂–¥—É—é –∫–Ω–∏–≥—É
for book in books:
    client.index(index='books', body=book)
    print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–∞: {book['title']}")

print(f"–í—Å–µ–≥–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: {len(books)} –∫–Ω–∏–≥")
```

–ó–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
pip install opensearch-py
python load_books.py
```

**–°–ø–æ—Å–æ–± 4: –ß–µ—Ä–µ–∑ Management ‚Üí Dev Tools**

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ books-dataset.json
2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ bulk —Ñ–æ—Ä–º–∞—Ç:
```json
POST /_bulk
{"index":{"_index":"books"}}
{"title":"–í–æ–π–Ω–∞ –∏ –º–∏—Ä","author":"–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π","year":1869,"genre":"—Ä–æ–º–∞–Ω","annotation":"–≠–ø–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω..."}
{"index":{"_index":"books"}}
{"title":"–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ","author":"–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π","year":1866,"genre":"—Ä–æ–º–∞–Ω","annotation":"–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω..."}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:**
```json
GET /books/_count
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `{"count": 20}`

## üîç –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏

```json
GET /books/_search
{
  "query": {
    "match_all": {}
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `match_all` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –∏–Ω–¥–µ–∫—Å–µ.

### 2. –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

```json
GET /books/_search
{
  "query": {
    "match": {
      "title": "–≤–æ–π–Ω–∞"
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `match` –∏—â–µ—Ç —Å–ª–æ–≤–æ "–≤–æ–π–Ω–∞" –≤ –ø–æ–ª–µ title. –ù–∞–π–¥–µ—Ç "–í–æ–π–Ω–∞ –∏ –º–∏—Ä".

### 3. –¢–æ—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∞–≤—Ç–æ—Ä—É

```json
GET /books/_search
{
  "query": {
    "term": {
      "author": "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π"
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `term` - —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –¥–ª—è keyword –ø–æ–ª–µ–π.

### 4. –ü–æ–∏—Å–∫ –ø–æ –≥–æ–¥—É

```json
GET /books/_search
{
  "query": {
    "term": {
      "year": 1869
    }
  }
}
```

### 5. –ü–æ–∏—Å–∫ –ø–æ –∂–∞–Ω—Ä—É

```json
GET /books/_search
{
  "query": {
    "term": {
      "genre": "—Ä–æ–º–∞–Ω"
    }
  }
}
```

## üìä –ó–∞–ø—Ä–æ—Å—ã —Å—Ä–µ–¥–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è

### 1. –î–∏–∞–ø–∞–∑–æ–Ω –ª–µ—Ç (Range Query)

```json
GET /books/_search
{
  "query": {
    "range": {
      "year": {
        "gte": 1860,
        "lte": 1880
      }
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `gte` - –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ (greater than or equal)
- `lte` - –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ (less than or equal)
- –ù–∞–π–¥–µ—Ç –∫–Ω–∏–≥–∏ —Å 1860 –ø–æ 1880 –≥–æ–¥

### 2. –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

```json
GET /books/_search
{
  "query": {
    "match": {
      "annotation": "–ª—é–±–æ–≤—å –≤–æ–π–Ω–∞"
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ò—â–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Å–ª–æ–≤–∞ "–ª—é–±–æ–≤—å" –ò–õ–ò "–≤–æ–π–Ω–∞" –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏.

### 3. –ë—É–ª–µ–≤—ã–π –∑–∞–ø—Ä–æ—Å (AND)

```json
GET /books/_search
{
  "query": {
    "bool": {
      "must": [
        {"term": {"genre": "—Ä–æ–º–∞–Ω"}},
        {"range": {"year": {"gte": 1900}}}
      ]
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `bool` - –±—É–ª–µ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- `must` - –≤—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è (AND)
- –ù–∞–π–¥–µ—Ç —Ä–æ–º–∞–Ω—ã, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ 1900 –≥–æ–¥–∞

### 4. –ë—É–ª–µ–≤—ã–π –∑–∞–ø—Ä–æ—Å (OR)

```json
GET /books/_search
{
  "query": {
    "bool": {
      "should": [
        {"term": {"author": "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π"}},
        {"term": {"author": "–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π"}}
      ]
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `should` - —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ (OR)
- –ù–∞–π–¥–µ—Ç –∫–Ω–∏–≥–∏ –¢–æ–ª—Å—Ç–æ–≥–æ –ò–õ–ò –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ

### 5. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ (NOT)

```json
GET /books/_search
{
  "query": {
    "bool": {
      "must": {"term": {"genre": "—Ä–æ–º–∞–Ω"}},
      "must_not": {"term": {"author": "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π"}}
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `must_not` - –∏—Å–∫–ª—é—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –ù–∞–π–¥–µ—Ç —Ä–æ–º–∞–Ω—ã, –ù–ï –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –¢–æ–ª—Å—Ç—ã–º

### 6. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

```json
GET /books/_search
{
  "query": {"match_all": {}},
  "sort": [
    {"year": {"order": "desc"}}
  ]
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `sort` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `desc` - –ø–æ —É–±—ã–≤–∞–Ω–∏—é (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º)
- `asc` - –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é

### 7. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```json
GET /books/_search
{
  "query": {"match_all": {}},
  "size": 5
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `size` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10).

### 8. –ü–∞–≥–∏–Ω–∞—Ü–∏—è

```json
GET /books/_search
{
  "query": {"match_all": {}},
  "from": 5,
  "size": 5
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `from` - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–µ N –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `size` - –≤–∑—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ N –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å 6 –ø–æ 10

## üìà –ê–≥—Ä–µ–≥–∞—Ü–∏–∏

### 1. –ü–æ–¥—Å—á–µ—Ç –ø–æ –∂–∞–Ω—Ä–∞–º

```json
GET /books/_search
{
  "size": 0,
  "aggs": {
    "genres_count": {
      "terms": {
        "field": "genre"
      }
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `size: 0` - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã, —Ç–æ–ª—å–∫–æ –∞–≥—Ä–µ–≥–∞—Ü–∏—é
- `terms` - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
- –ü–æ–∫–∞–∂–µ—Ç —Å–∫–æ–ª—å–∫–æ –∫–Ω–∏–≥ –∫–∞–∂–¥–æ–≥–æ –∂–∞–Ω—Ä–∞

### 2. –ü–æ–¥—Å—á–µ—Ç –ø–æ –∞–≤—Ç–æ—Ä–∞–º

```json
GET /books/_search
{
  "size": 0,
  "aggs": {
    "authors_count": {
      "terms": {
        "field": "author",
        "size": 20
      }
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `size: 20` - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ø-20 –∞–≤—Ç–æ—Ä–æ–≤.

### 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ–¥–∞–º

```json
GET /books/_search
{
  "size": 0,
  "aggs": {
    "year_stats": {
      "stats": {
        "field": "year"
      }
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `stats` –≤–µ—Ä–Ω–µ—Ç min, max, avg, sum, count –¥–ª—è –ø–æ–ª—è year.

### 4. –°—Ä–µ–¥–Ω–∏–π –≥–æ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```json
GET /books/_search
{
  "size": 0,
  "aggs": {
    "avg_year": {
      "avg": {
        "field": "year"
      }
    }
  }
}
```

### 5. –°–∞–º–∞—è —Å—Ç–∞—Ä–∞—è –∏ –Ω–æ–≤–∞—è –∫–Ω–∏–≥–∞

```json
GET /books/_search
{
  "size": 0,
  "aggs": {
    "oldest": {
      "min": {"field": "year"}
    },
    "newest": {
      "max": {"field": "year"}
    }
  }
}
```

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: –ù–∞–π—Ç–∏ –≤—Å–µ –∫–Ω–∏–≥–∏ –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "term": {
      "author": "–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π"
    }
  }
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 2: –ö–Ω–∏–≥–∏ 20 –≤–µ–∫–∞

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "range": {
      "year": {
        "gte": 1900,
        "lt": 2000
      }
    }
  }
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 3: –ü–æ–∏—Å–∫ —Å–ª–æ–≤–∞ "—Ä–µ–≤–æ–ª—é—Ü–∏—è" –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è—Ö

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "match": {
      "annotation": "—Ä–µ–≤–æ–ª—é—Ü–∏—è"
    }
  }
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 4: –†–æ–º–∞–Ω—ã –¢–æ–ª—Å—Ç–æ–≥–æ

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "bool": {
      "must": [
        {"term": {"author": "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π"}},
        {"term": {"genre": "—Ä–æ–º–∞–Ω"}}
      ]
    }
  }
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 5: –¢–æ–ø-5 —Å–∞–º—ã—Ö —Å—Ç–∞—Ä—ã—Ö –∫–Ω–∏–≥

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {"match_all": {}},
  "sort": [{"year": {"order": "asc"}}],
  "size": 5
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 6: –ö–Ω–∏–≥–∏ –ù–ï —Ä–æ–º–∞–Ω—ã

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "bool": {
      "must_not": {
        "term": {"genre": "—Ä–æ–º–∞–Ω"}
      }
    }
  }
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 7: –°–∫–æ–ª—å–∫–æ –∫–Ω–∏–≥ —É –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ—Ä–∞?

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "size": 0,
  "aggs": {
    "books_per_author": {
      "terms": {
        "field": "author",
        "size": 20
      }
    }
  }
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 8: –ö–Ω–∏–≥–∏ —Å "–ª—é–±–æ–≤—å" –ò–õ–ò "–≤–æ–π–Ω–∞" –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "match": {
      "annotation": "–ª—é–±–æ–≤—å –≤–æ–π–Ω–∞"
    }
  }
}
```
</details>

### –ó–∞–¥–∞–Ω–∏–µ 9: –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ - –Ω–∞–π—Ç–∏ "–æ–±—â–µ—Å—Ç–≤–æ" –∏ "–æ–±—â–µ—Å—Ç–≤–∞"

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "match": {
      "annotation": "–æ–±—â–µ—Å—Ç–≤–æ"
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `match` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–ª–æ–≤–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—É.
</details>

### –ó–∞–¥–∞–Ω–∏–µ 10: –ü–æ–∏—Å–∫ –ø–æ –∫–æ—Ä–Ω—é —Å–ª–æ–≤–∞ - "–≤–æ–π–Ω" (–≤–æ–π–Ω–∞, –≤–æ–π–Ω—ã, –≤–æ–µ–Ω–Ω—ã–π)

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "match": {
      "annotation": {
        "query": "–≤–æ–π–Ω",
        "operator": "and"
      }
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ù–∞–π–¥–µ—Ç "–≤–æ–π–Ω–∞", "–≤–æ–π–Ω—ã", "–≤–æ–µ–Ω–Ω—ã–π" –∏ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º—ã.
</details>

### –ó–∞–¥–∞–Ω–∏–µ 11: –§—Ä–∞–∑–∞ —Ü–µ–ª–∏–∫–æ–º - "—Ä—É—Å—Å–∫–æ–µ –æ–±—â–µ—Å—Ç–≤–æ"

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "match_phrase": {
      "annotation": "—Ä—É—Å—Å–∫–æ–µ –æ–±—â–µ—Å—Ç–≤–æ"
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** `match_phrase` –∏—â–µ—Ç —Ç–æ—á–Ω—É—é —Ñ—Ä–∞–∑—É, —Å–ª–æ–≤–∞ –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–æ–¥—Ä—è–¥.
</details>

### –ó–∞–¥–∞–Ω–∏–µ 12: –ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫ (fuzzy) - –Ω–∞–π—Ç–∏ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏

<details>
<summary>–†–µ—à–µ–Ω–∏–µ</summary>

```json
GET /books/_search
{
  "query": {
    "fuzzy": {
      "title": {
        "value": "–≤–∞–π–Ω–∞",
        "fuzziness": "AUTO"
      }
    }
  }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ù–∞–π–¥–µ—Ç "–í–æ–π–Ω–∞ –∏ –º–∏—Ä" –¥–∞–∂–µ —Å –æ–ø–µ—á–∞—Ç–∫–æ–π "–≤–∞–π–Ω–∞". `fuzziness: AUTO` –¥–æ–ø—É—Å–∫–∞–µ—Ç 1-2 –æ—à–∏–±–∫–∏.
</details>

## üìä –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –°–æ–∑–¥–∞—Ç—å Index Pattern

1. **Management** ‚Üí **Index Patterns**
2. **Create index pattern**
3. –í–≤–µ—Å—Ç–∏: `books`
4. **Next step** ‚Üí **I don't want to use time filter**
5. **Create index pattern**

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 1: –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ –∂–∞–Ω—Ä–∞–º

1. **Visualize** ‚Üí **Create visualization**
2. –í—ã–±—Ä–∞—Ç—å **Pie**
3. –í—ã–±—Ä–∞—Ç—å index pattern: `books`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å:
   - **Metrics**: Count
   - **Buckets**: Add ‚Üí Split slices
   - Aggregation: **Terms**
   - Field: **genre**
   - Size: 10
5. –ù–∞–∂–∞—Ç—å **‚ñ∂ Update**
6. **Save** ‚Üí –ò–º—è: "–ö–Ω–∏–≥–∏ –ø–æ –∂–∞–Ω—Ä–∞–º"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–Ω–∏–≥ –ø–æ –∂–∞–Ω—Ä–∞–º.

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 2: –°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ –∞–≤—Ç–æ—Ä–∞–º

1. **Visualize** ‚Üí **Create visualization**
2. –í—ã–±—Ä–∞—Ç—å **Vertical Bar**
3. –í—ã–±—Ä–∞—Ç—å index pattern: `books`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å:
   - **Metrics**: Count
   - **Buckets**: Add ‚Üí X-axis
   - Aggregation: **Terms**
   - Field: **author**
   - Order By: **Metric: Count**
   - Order: **Descending**
   - Size: 10
5. –ù–∞–∂–∞—Ç—å **‚ñ∂ Update**
6. **Save** ‚Üí –ò–º—è: "–ö–Ω–∏–≥–∏ –ø–æ –∞–≤—Ç–æ—Ä–∞–º"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ—Ä–∞.

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 3: –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –ø–æ –≥–æ–¥–∞–º

1. **Visualize** ‚Üí **Create visualization**
2. –í—ã–±—Ä–∞—Ç—å **Vertical Bar**
3. –í—ã–±—Ä–∞—Ç—å index pattern: `books`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å:
   - **Metrics**: Count
   - **Buckets**: Add ‚Üí X-axis
   - Aggregation: **Histogram**
   - Field: **year**
   - Interval: **10** (–ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º)
5. –ù–∞–∂–∞—Ç—å **‚ñ∂ Update**
6. **Save** ‚Üí –ò–º—è: "–ö–Ω–∏–≥–∏ –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–Ω–∏–≥ –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º.

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 4: –¢–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö

1. **Visualize** ‚Üí **Create visualization**
2. –í—ã–±—Ä–∞—Ç—å **Data Table**
3. –í—ã–±—Ä–∞—Ç—å index pattern: `books`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å:
   - **Metrics**: Count
   - **Buckets**: Add ‚Üí Split rows
   - Aggregation: **Terms**
   - Field: **author**
   - Size: 20
5. –î–æ–±–∞–≤–∏—Ç—å –µ—â–µ –æ–¥–∏–Ω bucket:
   - **Sub Aggregation**: Split rows
   - Aggregation: **Terms**
   - Field: **genre**
6. –ù–∞–∂–∞—Ç—å **‚ñ∂ Update**
7. **Save** ‚Üí –ò–º—è: "–ê–≤—Ç–æ—Ä—ã –∏ –∂–∞–Ω—Ä—ã"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–∞–±–ª–∏—Ü–∞ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –∏—Ö –∂–∞–Ω—Ä–∞–º–∏.

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 5: –ú–µ—Ç—Ä–∏–∫–∏ (—á–∏—Å–ª–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏)

1. **Visualize** ‚Üí **Create visualization**
2. –í—ã–±—Ä–∞—Ç—å **Metric**
3. –í—ã–±—Ä–∞—Ç—å index pattern: `books`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç—Ä–∏–∫:
   - **Metric 1**: Count (–æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥)
   - Add Metric ‚Üí **Metric 2**: Average, Field: **year** (—Å—Ä–µ–¥–Ω–∏–π –≥–æ–¥)
   - Add Metric ‚Üí **Metric 3**: Min, Field: **year** (—Å–∞–º–∞—è —Å—Ç–∞—Ä–∞—è)
   - Add Metric ‚Üí **Metric 4**: Max, Field: **year** (—Å–∞–º–∞—è –Ω–æ–≤–∞—è)
5. –ù–∞–∂–∞—Ç—å **‚ñ∂ Update**
6. **Save** ‚Üí –ò–º—è: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–Ω–∏–≥"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏.

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 6: Tag Cloud (–æ–±–ª–∞–∫–æ —Ç–µ–≥–æ–≤)

1. **Visualize** ‚Üí **Create visualization**
2. –í—ã–±—Ä–∞—Ç—å **Tag Cloud**
3. –í—ã–±—Ä–∞—Ç—å index pattern: `books`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å:
   - **Metrics**: Count
   - **Buckets**: Add ‚Üí Tags
   - Aggregation: **Terms**
   - Field: **author**
   - Size: 20
5. –ù–∞–∂–∞—Ç—å **‚ñ∂ Update**
6. **Save** ‚Üí –ò–º—è: "–û–±–ª–∞–∫–æ –∞–≤—Ç–æ—Ä–æ–≤"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–ª–∞–∫–æ —Ç–µ–≥–æ–≤ —Å –∞–≤—Ç–æ—Ä–∞–º–∏, —Ä–∞–∑–º–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–Ω–∏–≥.

## üìã –°–æ–∑–¥–∞–Ω–∏–µ Dashboard

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥

1. **Dashboard** ‚Üí **Create dashboard**
2. –ù–∞–∂–∞—Ç—å **Add** ‚Üí **Add an existing**
3. –í—ã–±—Ä–∞—Ç—å –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
   - –ö–Ω–∏–≥–∏ –ø–æ –∂–∞–Ω—Ä–∞–º
   - –ö–Ω–∏–≥–∏ –ø–æ –∞–≤—Ç–æ—Ä–∞–º
   - –ö–Ω–∏–≥–∏ –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–Ω–∏–≥
   - –û–±–ª–∞–∫–æ –∞–≤—Ç–æ—Ä–æ–≤
   - –ê–≤—Ç–æ—Ä—ã –∏ –∂–∞–Ω—Ä—ã
4. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ (drag & drop)
5. **Save** ‚Üí –ò–º—è: "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ - –û–±–∑–æ—Ä"

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã

1. –ù–∞ –¥–∞—à–±–æ—Ä–¥–µ –Ω–∞–∂–∞—Ç—å **Add filter**
2. –°–æ–∑–¥–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä:
   - Field: **genre**
   - Operator: **is**
   - Value: **—Ä–æ–º–∞–Ω**
3. –ù–∞–∂–∞—Ç—å **Save**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è –∏ –ø–æ–∫–∞–∂—É—Ç —Ç–æ–ª—å–∫–æ —Ä–æ–º–∞–Ω—ã.

### –®–∞–≥ 3: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ–∫—Ç–æ—Ä –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ –≥–æ–¥—É
- –í—Å–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ —Ñ–∏–ª—å—Ç—Ä–∞–º