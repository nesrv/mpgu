<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><title>GraphQL WebSocket Subscriptions</title><link rel="stylesheet" href="../15-16/css/reveal.min.css"><link rel="stylesheet" href="../15-16/css/black.min.css"><link rel="stylesheet" href="../15-16/css/monokai.min.css"><style>.reveal .slides{width:70%!important;height:90%!important;transform:scale(1.2)!important;position:absolute!important;left:50%!important;top:0!important;transform:translateX(calc(-50% + 5%)) scale(1.2)!important;transform-origin:top center!important}.reveal h1{font-size:1.8em!important;margin-top:0!important;margin-bottom:.4em!important}.reveal h2{font-size:0.75em!important;margin-top:0!important;margin-bottom:.4em!important;text-transform:none!important;text-align:right!important;margin-right:10%!important}.reveal h3{font-size:1.1em!important;margin-top:0!important;margin-bottom:.3em!important;text-transform:none!important}.reveal .slides section{padding:15px!important;font-size:1em!important}.reveal p,.reveal ul,.reveal ol{font-size:.9em!important}pre code{font-size:.975em;max-height:none;overflow:hidden}pre{max-height:none;overflow:hidden;margin:10px 0!important}table{font-size:.7em!important;width:100%!important;border-collapse:collapse!important}table th,table td{padding:8px!important;border:1px solid #444!important;text-align:left!important}.lector-note{background:rgba(255,215,0,0.1);border-left:3px solid #FFD700;padding:10px;margin-top:15px;font-size:.85em;font-style:italic}</style></head><body><div class="reveal"><div class="slides">

<section data-background-color="#1a1a2e"><div style="background:rgba(22,33,62,0.9);padding:40px;border:8px solid #0f3460"><h1 style="color:#FFD700">‚ö° GraphQL WebSocket Subscriptions</h1><h2 style="color:#90EE90">Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket</h2><p style="color:#FFF;font-size:1em">üè´ –ú–ü–ì–£, 4 –∫—É—Ä—Å, 2025</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 1: –í–≤–µ–¥–µ–Ω–∏–µ - –ó–∞—á–µ–º –Ω—É–∂–Ω—ã Subscriptions?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong style="color:#e74c3c">–ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ Subscriptions:</strong> –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –≠—Ç–æ –∫–∞–∫ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥—Ä—É–≥–∞: "–¢—ã –Ω–∞–ø–∏—Å–∞–ª –º–Ω–µ?" - –Ω–∞–¥–æ–µ–¥–∞–µ—Ç –∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ!</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#2ecc71">–° Subscriptions:</strong> –°–µ—Ä–≤–µ—Ä —Å–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ–≥–¥–∞ –æ–Ω–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è. –≠—Ç–æ –∫–∞–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ - –ø—Ä–∏—à–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –≤—ã —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç–µ.</p><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong></p><ul style="margin-left:40px"><li>–ë–µ–∑ Subscriptions = –ø–æ—á—Ç–∞, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ä—É—á–Ω—É—é</li><li>–° Subscriptions = –∫—É—Ä—å–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–∏—Å—å–º–∞ —Å—Ä–∞–∑—É</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:</strong></p><ul style="margin-left:40px"><li>Query/Mutation = HTTP –∑–∞–ø—Ä–æ—Å—ã (–æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å - –æ–¥–∏–Ω –æ—Ç–≤–µ—Ç)</li><li>Subscription = WebSocket (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ —É–≥–æ–¥–Ω–æ)</li></ul></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 2: –ß—Ç–æ —Ç–∞–∫–æ–µ Pub/Sub –ø–∞—Ç—Ç–µ—Ä–Ω?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>Pub/Sub (Publish/Subscribe)</strong> - –ø–∞—Ç—Ç–µ—Ä–Ω —Å –¥–≤—É–º—è —Ç–∏–ø–∞–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#2ecc71">Publisher (–ò–∑–¥–∞—Ç–µ–ª—å)</strong> - –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è:</p><ul style="margin-left:40px"><li>–°–æ–∑–¥–∞–ª —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª —Å–æ–±—ã—Ç–∏–µ "–Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"</li><li>–û–±–Ω–æ–≤–∏–ª –ø–æ—Å—Ç ‚Üí –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª —Å–æ–±—ã—Ç–∏–µ "–ø–æ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω"</li></ul><p style="margin-left:20px;margin-top:10px"><strong style="color:#2ecc71">Subscriber (–ü–æ–¥–ø–∏—Å—á–∏–∫)</strong> - –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è:</p><ul style="margin-left:40px"><li>–ü–æ–¥–ø–∏—Å–∞–ª—Å—è –Ω–∞ "–Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è" ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</li><li>–ü–æ–¥–ø–∏—Å–∞–ª—Å—è –Ω–∞ "–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É #1" ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —ç—Ç–æ–º—É –ø–æ—Å—Ç—É</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> YouTube –∫–∞–Ω–∞–ª - Publisher = —Å–æ–∑–¥–∞—Ç–µ–ª—å –∫–∞–Ω–∞–ª–∞, Subscriber = –ø–æ–¥–ø–∏—Å—á–∏–∫, Channel = –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞.</p><pre><code class="language-python"># Publisher –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ
await pubsub.publish("messages", {"id": 1, "content": "Hello"})

# Subscriber –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
async for event in pubsub.subscribe("messages"):
    print(event)  # –ü–æ–ª—É—á–∏—Ç {"id": 1, "content": "Hello"}</code></pre></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 3: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç PubSubManager?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>PubSubManager</strong> - –º–µ–Ω–µ–¥–∂–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏.</p><p style="margin-left:20px;margin-top:15px"><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞:</strong></p><pre><code class="language-python">self.subscribers = {
    "messages": [queue1, queue2, queue3],  # 3 –ø–æ–¥–ø–∏—Å—á–∏–∫–∞
    "comments:1": [queue4],                 # 1 –ø–æ–¥–ø–∏—Å—á–∏–∫
    "comments:2": [queue5, queue6]         # 2 –ø–æ–¥–ø–∏—Å—á–∏–∫–∞
}</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p><ol style="margin-left:40px"><li><strong>–ü–æ–¥–ø–∏—Å–∫–∞:</strong> –°–æ–∑–¥–∞–µ—Ç—Å—è –æ—á–µ—Ä–µ–¥—å, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∫–∞–Ω–∞–ª–∞</li><li><strong>–ü—É–±–ª–∏–∫–∞—Ü–∏—è:</strong> –ú–µ–Ω–µ–¥–∂–µ—Ä –±–µ—Ä–µ—Ç –≤—Å–µ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–∂–¥—É—é</li></ol><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –ü–æ—á—Ç–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ - –∫–∞–Ω–∞–ª = —Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–∫–∏, –æ—á–µ—Ä–µ–¥—å = –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫, –ø—É–±–ª–∏–∫–∞—Ü–∏—è = –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –ö–∞–∂–¥—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å. –≠—Ç–æ –∫–∞–∫ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ —Å–≤–æ–π –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ - –ø–∏—Å—å–º–∞ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 4: AsyncIterator - —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>AsyncIterator</strong> - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–¥–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∑–∞ —Ä–∞–∑, –Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.</p><p style="margin-left:20px;margin-top:15px"><strong>–û–±—ã—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä:</strong></p><pre><code class="language-python">for item in [1, 2, 3]:
    print(item)  # –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä:</strong></p><pre><code class="language-python">async for event in pubsub.subscribe("messages"):
    print(event)  # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ü–æ—á–µ–º—É AsyncIterator?</strong></p><ul style="margin-left:40px"><li>–ü–æ–¥–ø–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ WebSocket (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)</li><li>–°–æ–±—ã—Ç–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–µ —Å—Ä–∞–∑—É, –∞ –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç</li><li>–ù—É–∂–Ω–æ –∂–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏—è, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∑–∞–ø—Ä–æ—Å—ã</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –û–±—ã—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä = —á—Ç–µ–Ω–∏–µ –∫–Ω–∏–≥–∏, AsyncIterator = –æ–∂–∏–¥–∞–Ω–∏–µ –ø–∏—Å–µ–º –≤ –ø–æ—á—Ç–æ–≤–æ–º —è—â–∏–∫–µ.</p><p style="margin-left:20px;margin-top:10px"><code>yield</code> - —ç—Ç–æ –∫–∞–∫ <code>return</code>, –Ω–æ –¥–ª—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞. –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –µ—â–µ –∑–Ω–∞—á–µ–Ω–∏—è.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 5: –ö–∞–Ω–∞–ª—ã (Channels) - –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ö–∞–Ω–∞–ª</strong> - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤. –ö–∞–∫ —Ç–µ–º–∞ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞ —Ñ–æ—Ä—É–º–µ.</p><p style="margin-left:20px;margin-top:15px"><strong>–ü—Ä–∏–º–µ—Ä—ã –∫–∞–Ω–∞–ª–æ–≤:</strong></p><ul style="margin-left:40px"><li><code>"messages"</code> - –≤—Å–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</li><li><code>"comments:1"</code> - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é —Å ID=1</li><li><code>"comments:2"</code> - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é —Å ID=2</li><li><code>"message_updates:1"</code> - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è —Å ID=1</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ö–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–∞–Ω–∞–ª—ã:</strong></p><pre><code class="language-python"># –î–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
channel = f"comments:{message_id}"  # "comments:1", "comments:2"

# –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
channel = f"message_updates:{message_id}"  # "message_updates:1"</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –¢–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª—ã - –∫–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª –Ω–µ–∑–∞–≤–∏—Å–∏–º. –ü–æ–¥–ø–∏—Å—á–∏–∫ –Ω–∞ "comments:1" –Ω–µ –ø–æ–ª—É—á–∏—Ç —Å–æ–±—ã—Ç–∏—è –∏–∑ "comments:2".</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 6: –û—á–µ—Ä–µ–¥–∏ (Queues) - –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–û—á–µ—Ä–µ–¥—å (Queue)</strong> - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö "–ø–µ—Ä–≤—ã–π –ø—Ä–∏—à–µ–ª - –ø–µ—Ä–≤—ã–π —É—à–µ–ª" (FIFO).</p><p style="margin-left:20px;margin-top:15px"><strong>–ó–∞—á–µ–º –Ω—É–∂–Ω—ã –æ—á–µ—Ä–µ–¥–∏ –≤ Pub/Sub?</strong></p><ul style="margin-left:40px"><li>–ö–∞–∂–¥—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å</li><li>–ö–æ–≥–¥–∞ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ, –æ–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Å–µ –æ—á–µ—Ä–µ–¥–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</li><li>–ü–æ–¥–ø–∏—Å—á–∏–∫ —á–∏—Ç–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏–∑ —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p><pre><code class="language-python"># –ü–æ–¥–ø–∏—Å—á–∏–∫ 1 —Å–æ–∑–¥–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å
queue1 = asyncio.Queue()
subscribers["messages"].append(queue1)

# –ü–æ–¥–ø–∏—Å—á–∏–∫ 2 —Å–æ–∑–¥–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å
queue2 = asyncio.Queue()
subscribers["messages"].append(queue2)

# –ü—É–±–ª–∏–∫—É–µ–º —Å–æ–±—ã—Ç–∏–µ
await pubsub.publish("messages", {"id": 1})
# –°–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ queue1 –ò –≤ queue2

# –ö–∞–∂–¥—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫ —á–∏—Ç–∞–µ—Ç –∏–∑ —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏
event = await queue1.get()  # –ü–æ–¥–ø–∏—Å—á–∏–∫ 1 –ø–æ–ª—É—á–∏—Ç {"id": 1}
event = await queue2.get()  # –ü–æ–¥–ø–∏—Å—á–∏–∫ 2 –ø–æ–ª—É—á–∏—Ç {"id": 1}</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –û—á–µ—Ä–µ–¥—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ - –∫–∞–∂–¥—ã–π –ø–æ–∫—É–ø–∞—Ç–µ–ª—å = –ø–æ–¥–ø–∏—Å—á–∏–∫, –∫–∞—Å—Å–∞ = –æ—á–µ—Ä–µ–¥—å, —Ç–æ–≤–∞—Ä = —Å–æ–±—ã—Ç–∏–µ.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –û—á–µ—Ä–µ–¥–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã. –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫ 1 –æ—Ç–∫–ª—é—á–∏–ª—Å—è, —ç—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ 2.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 7: WebSocket vs HTTP - –≤ —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong style="color:#2ecc71">HTTP (Query/Mutation):</strong></p><ul style="margin-left:40px"><li>–û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å ‚Üí –æ–¥–∏–Ω –æ—Ç–≤–µ—Ç</li><li>–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞</li><li>–ö–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å</li><li>–≠—Ç–æ –∫–∞–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∑–≤–æ–Ω–æ–∫: –ø–æ–∑–≤–æ–Ω–∏–ª–∏, –ø–æ–≥–æ–≤–æ—Ä–∏–ª–∏, –ø–æ–ª–æ–∂–∏–ª–∏ —Ç—Ä—É–±–∫—É</li></ul><p style="margin-left:20px;margin-top:15px"><strong style="color:#2ecc71">WebSocket (Subscription):</strong></p><ul style="margin-left:40px"><li>–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</li><li>–°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ —É–≥–æ–¥–Ω–æ</li><li>–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º</li><li>–≠—Ç–æ –∫–∞–∫ —Ä–∞—Ü–∏—è: –≤–∫–ª—é—á–∏–ª–∏, –≥–æ–≤–æ—Ä–∏—Ç–µ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, –≤—ã–∫–ª—é—á–∏–ª–∏ –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∏</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> HTTP = –ø–æ—á—Ç–∞ (–æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø–∏—Å—å–º–æ, –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç–≤–µ—Ç, –∫–æ–Ω–µ—Ü), WebSocket = –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä (–æ—Ç–∫—Ä—ã–ª–∏ —á–∞—Ç, –æ–±—â–∞–µ—Ç–µ—Å—å, –ø–æ–ª—É—á–∞–µ—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç).</p><p style="margin-left:20px;margin-top:15px"><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong></p><ul style="margin-left:40px"><li>Query/Mutation = –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω —Ä–∞–∑</li><li>Subscription = –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</li></ul></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 8: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Subscription –≤ GraphQL?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>Subscription</strong> - —Ç—Ä–µ—Ç–∏–π —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–π –≤ GraphQL (–ø–æ—Å–ª–µ Query –∏ Mutation).</p><p style="margin-left:20px;margin-top:15px"><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞:</strong></p><pre><code class="language-python">@strawberry.subscription
async def message_added(self) -> AsyncIterator[MessageType]:
    async for message_data in pubsub.subscribe("messages"):
        yield MessageType(**message_data)</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p><ol style="margin-left:40px"><li><strong>–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è:</strong> –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</li><li><strong>–°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç WebSocket:</strong> –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º</li><li><strong>–ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ:</strong> –ú—É—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ, –≤—Å–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç, –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —á–µ—Ä–µ–∑ WebSocket</li></ol><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –†–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏—è - –ø–æ–¥–ø–∏—Å–∫–∞ = –≤–∫–ª—é—á–∏–ª–∏ —Ä–∞–¥–∏–æ, —Å–æ–±—ã—Ç–∏–µ = –¥–∏–¥–∂–µ–π –≤–∫–ª—é—á–∏–ª –ø–µ—Å–Ω—é, –ø–æ–ª—É—á–µ–Ω–∏–µ = –≤—ã —Å–ª—ã—à–∏—Ç–µ –ø–µ—Å–Ω—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> Subscription - —ç—Ç–æ –Ω–µ –∑–∞–ø—Ä–æ—Å, —ç—Ç–æ –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –º–µ—Ä–µ –∏—Ö –ø–æ—è–≤–ª–µ–Ω–∏—è.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 9: –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –≤ –º—É—Ç–∞—Ü–∏—è—Ö</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ì–¥–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è?</strong> –í —Ç–µ—Ö –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:</p><ul style="margin-left:40px"><li>–°–æ–∑–¥–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª–∏ –≤ "messages"</li><li>–°–æ–∑–¥–∞–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Üí –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª–∏ –≤ "comments:{message_id}"</li><li>–û–±–Ω–æ–≤–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª–∏ –≤ "message_updates:{message_id}"</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ü—Ä–∏–º–µ—Ä:</strong></p><pre><code class="language-python">@strawberry.mutation
async def create_message(...) -> MessageType:
    # –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    new_message = await create_message_resolver(...)
    
    # –ü—É–±–ª–∏–∫—É–µ–º —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
    await pubsub.publish("messages", {
        "id": new_message.id,
        "title": new_message.title,
        "content": new_message.content,
        # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    })
    
    return new_message</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –ù–æ–≤–æ—Å—Ç–Ω–æ–π –∫–∞–Ω–∞–ª - –º—É—Ç–∞—Ü–∏—è = –∂—É—Ä–Ω–∞–ª–∏—Å—Ç –Ω–∞–ø–∏—Å–∞–ª –Ω–æ–≤–æ—Å—Ç—å, –ø—É–±–ª–∏–∫–∞—Ü–∏—è = –Ω–æ–≤–æ—Å—Ç—å –≤—ã—à–ª–∞ –≤ —ç—Ñ–∏—Ä, –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ = –∑—Ä–∏—Ç–µ–ª–∏.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –ü—É–±–ª–∏–∫—É–π—Ç–µ —Å–æ–±—ã—Ç–∏—è –ü–û–°–õ–ï —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, —Å–æ–±—ã—Ç–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å—Å—è.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 10: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–±—ã—Ç–∏—è—Ö</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ß—Ç–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ —Å–æ–±—ã—Ç–∏—è—Ö?</strong> –¢–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º. –û–±—ã—á–Ω–æ —ç—Ç–æ —Ç–µ –∂–µ –ø–æ–ª—è, —á—Ç–æ –∏ –≤ GraphQL —Ç–∏–ø–µ.</p><pre><code class="language-python"># GraphQL —Ç–∏–ø
@strawberry.type
class MessageType:
    id: int
    title: str
    content: str
    author_id: int
    created_at: datetime

# –ü—É–±–ª–∏–∫—É–µ–º —Å–æ–±—ã—Ç–∏–µ —Å —Ç–µ–º–∏ –∂–µ –ø–æ–ª—è–º–∏
await pubsub.publish("messages", {
    "id": new_message.id,
    "title": new_message.title,
    "content": new_message.content,
    "author_id": new_message.author_id,
    "created_at": new_message.created_at,
})</code></pre><p style="margin-left:20px;margin-top:15px"><strong style="color:#e74c3c">–í–∞–∂–Ω–æ:</strong> –ü–æ–ª—è –≤ —Å–æ–±—ã—Ç–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –ø–æ–ª—è–º–∏ GraphQL —Ç–∏–ø–∞. –ò–Ω–∞—á–µ –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ <code>MessageType(**message_data)</code> –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞.</p><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ - GraphQL —Ç–∏–ø = —à–∞–±–ª–æ–Ω —Ñ–æ—Ä–º—ã, —Å–æ–±—ã—Ç–∏–µ = –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞. –ï—Å–ª–∏ –≤ —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å –ø–æ–ª–µ "email", –∞ –≤ —Ñ–æ—Ä–º–µ –µ–≥–æ –Ω–µ—Ç - –æ—à–∏–±–∫–∞!</p><p style="margin-left:20px;margin-top:10px"><code>**message_data</code> - —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ —Å–ª–æ–≤–∞—Ä—è. –≠—Ç–æ –∫–∞–∫ –ø–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 11: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–µ –Ω–∞ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è, –∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ.</strong></p><pre><code class="language-python">@strawberry.subscription
async def comment_added(
    self, 
    message_id: int  # –ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–¥–ø–∏—Å–∫–∏
) -> AsyncIterator[CommentType]:
    # –§–æ—Ä–º–∏—Ä—É–µ–º –∫–∞–Ω–∞–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    channel = f"comments:{message_id}"
    
    async for comment_data in pubsub.subscribe(channel):
        yield CommentType(**comment_data)</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p><ol style="margin-left:40px"><li>–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º: <code>commentAdded(messageId: 1)</code></li><li>–°–µ—Ä–≤–µ—Ä —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫–∞–Ω–∞–ª: <code>message_id = 1</code> ‚Üí –∫–∞–Ω–∞–ª <code>"comments:1"</code></li><li>–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è: –ø—É–±–ª–∏–∫—É–µ–º –≤ –∫–∞–Ω–∞–ª –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è</li></ol><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ YouTube - –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ = –≤—Å–µ –∫–∞–Ω–∞–ª—ã, —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º = –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–Ω–∞–ª.</p><p style="margin-left:20px;margin-top:10px"><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong> –ú–µ–Ω—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞, –º–µ–Ω—å—à–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏, –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 12: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (Locks) - –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è/–æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ù—É–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è.</p><p style="margin-left:20px;margin-top:15px"><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>asyncio.Lock()</code> –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p><pre><code class="language-python">async def subscribe(self, channel: str):
    queue = asyncio.Queue()
    
    # –ë–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø –∫ subscribers
    async with self._lock:
        self.subscribers[channel].append(queue)
    
    # –¢–µ–ø–µ—Ä—å –¥—Ä—É–≥–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –∂–¥—É—Ç, –ø–æ–∫–∞ –º—ã –∑–∞–∫–æ–Ω—á–∏–º</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –û—á–µ—Ä–µ–¥—å –≤ –±–∞–Ω–∫–µ - –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ = –≤—Å–µ –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–¥–æ–π—Ç–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (—Ö–∞–æ—Å!), —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π = –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∂–¥—É—Ç (–ø–æ—Ä—è–¥–æ–∫!).</p><p style="margin-left:20px;margin-top:15px"><strong>–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?</strong></p><ul style="margin-left:40px"><li>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç race conditions (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏)</li><li>–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –Ω–µ –∏—Å–ø–æ—Ä—Ç–∏—Ç—Å—è</li><li>–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö</li></ul><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 13: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ü–æ–¥–ø–∏—Å—á–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è (–∑–∞–∫—Ä—ã–ª –±—Ä–∞—É–∑–µ—Ä, –ø–æ—Ç–µ—Ä—è–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ). –ù—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –µ–≥–æ –æ—á–µ—Ä–µ–¥—å.</p><p style="margin-left:20px;margin-top:15px"><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –ò—Å–ø–æ–ª—å–∑—É–µ–º <code>try/finally</code> –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏.</p><pre><code class="language-python">async def subscribe(self, channel: str):
    queue = asyncio.Queue()
    
    async with self._lock:
        self.subscribers[channel].append(queue)
    
    try:
        while True:
            message = await queue.get()
            yield message
    finally:
        # –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
        async with self._lock:
            if queue in self.subscribers[channel]:
                self.subscribers[channel].remove(queue)</code></pre><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∂—É—Ä–Ω–∞–ª - –ø–æ–¥–ø–∏—Å–∫–∞ = –æ—Ñ–æ—Ä–º–∏–ª–∏, –ø–æ–ª—É—á–µ–Ω–∏–µ = –ø–æ–ª—É—á–∞–µ—Ç–µ, –æ—Ç–ø–∏—Å–∫–∞ = –æ—Ç–º–µ–Ω–∏–ª–∏. <code>finally</code> –±–ª–æ–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∞–¥—Ä–µ—Å –±—É–¥–µ—Ç —É–±—Ä–∞–Ω –∏–∑ —Å–ø–∏—Å–∫–∞.</p><p style="margin-left:20px;margin-top:15px"><strong>–¢–∞–∫–∂–µ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</strong> –ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–ø–æ–¥–ø–∏—Å—á–∏–∫ –æ—Ç–∫–ª—é—á–∏–ª—Å—è), —É–¥–∞–ª—è–µ–º –µ—ë –∏–∑ —Å–ø–∏—Å–∫–∞.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –ù—É–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –∏–Ω–∞—á–µ –æ–Ω–∏ –±—É–¥—É—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –∏ –∑–∞–Ω–∏–º–∞—Ç—å –ø–∞–º—è—Ç—å.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 14: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏?</strong></p><p style="margin-left:20px;margin-top:15px"><strong>1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã:</strong></p><ul style="margin-left:40px"><li>–û—Ç–∫—Ä–æ–π—Ç–µ GraphQL Playground</li><li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Subscription –≤–∏–¥–µ–Ω –≤ —Å—Ö–µ–º–µ</li><li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã</li></ul><p style="margin-left:20px;margin-top:15px"><strong>2. –¢–µ—Å—Ç –ø–æ–¥–ø–∏—Å–∫–∏:</strong></p><ul style="margin-left:40px"><li>–û—Ç–∫—Ä–æ–π—Ç–µ –¥–≤–∞ –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞</li><li>–í –ø–µ—Ä–≤–æ–º –æ–∫–Ω–µ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É</li><li>–í–æ –≤—Ç–æ—Ä–æ–º –æ–∫–Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º—É—Ç–∞—Ü–∏—é</li><li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–∏—à–ª–æ –≤ –ø–µ—Ä–≤–æ–µ –æ–∫–Ω–æ</li></ul><p style="margin-left:20px;margin-top:15px"><strong>3. –¢–µ—Å—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:</strong></p><ul style="margin-left:40px"><li>–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É #1</li><li>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ—Å—Ç—É #1 ‚Üí –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏</li><li>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ—Å—Ç—É #2 ‚Üí –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</strong> GraphQL Playground, Apollo Studio Sandbox, —Å–≤–æ–π –∫–ª–∏–µ–Ω—Ç –Ω–∞ WebSocket.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö. –ü–æ–¥–ø–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ WebSocket.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 15: In-Memory vs Redis –¥–ª—è Pub/Sub</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong style="color:#2ecc71">In-Memory (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):</strong></p><ul style="margin-left:40px"><li>–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞</li><li>–ü—Ä–æ—Å—Ç–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</li><li>–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö</li><li>–î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ</li></ul><p style="margin-left:20px;margin-top:15px"><strong style="color:#2ecc71">Redis:</strong></p><ul style="margin-left:40px"><li>–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Redis</li><li>–†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö</li><li>–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è</li><li>–ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Redis</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> In-Memory = –∑–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞ (–∑–∞–ø–∏—Å–∞–ª–∏, –∑–∞–∫—Ä—ã–ª–∏, –ø–æ—Ç–µ—Ä—è–ª–∏), Redis = –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–∑–∞–ø–∏—Å–∞–ª–∏, –¥–æ—Å—Ç—É–ø–Ω–æ –≤–µ–∑–¥–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è).</p><p style="margin-left:20px;margin-top:15px"><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong></p><ul style="margin-left:40px"><li>In-Memory = –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</li><li>Redis = –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞, –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è</li></ul><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í STEP_5_GUIDE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è In-Memory</strong>, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –ø—Ä–æ—â–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è. –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 16: –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ Subscriptions</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:</strong></p><ol style="margin-left:40px"><li><strong>–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è:</strong> –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</li><li><strong>–°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:</strong> –°–æ–∑–¥–∞–µ—Ç—Å—è –æ—á–µ—Ä–µ–¥—å, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ subscribers["messages"]</li><li><strong>–ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:</strong> –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º—É—Ç–∞—Ü–∏—è</li><li><strong>–ú—É—Ç–∞—Ü–∏—è –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ:</strong> –°–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Å–µ –æ—á–µ—Ä–µ–¥–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</li><li><strong>–ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç:</strong> –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ WebSocket</li></ol><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –¶–µ–ø–æ—á–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ - –ø–æ–¥–ø–∏—Å–∫–∞ = –æ—Ñ–æ—Ä–º–∏–ª–∏ –¥–æ—Å—Ç–∞–≤–∫—É, –º—É—Ç–∞—Ü–∏—è = –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø–æ—Å—ã–ª–∫—É, –ø—É–±–ª–∏–∫–∞—Ü–∏—è = –ø–æ—Å—ã–ª–∫–∞ –ø–æ–ø–∞–ª–∞ –≤ —Å–∏—Å—Ç–µ–º—É, –ø–æ–ª—É—á–µ–Ω–∏–µ = –∫—É—Ä—å–µ—Ä –¥–æ—Å—Ç–∞–≤–∏–ª.</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –í—Å—ë –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –º—É—Ç–∞—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 17: –û—à–∏–±–∫–∏ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫?</strong></p><p style="margin-left:20px;margin-top:15px"><strong>1. –ü–æ–¥–ø–∏—Å—á–∏–∫ –æ—Ç–∫–ª—é—á–∏–ª—Å—è:</strong> –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –æ—á–µ—Ä–µ–¥—å —É–¥–∞–ª—è–µ—Ç—Å—è.</p><p style="margin-left:20px;margin-top:15px"><strong>2. –û—à–∏–±–∫–∞ –≤ Subscription:</strong> –û—à–∏–±–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –ø–æ–¥–ø–∏—Å–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –æ—á–µ—Ä–µ–¥—å –æ—á–∏—â–∞–µ—Ç—Å—è.</p><p style="margin-left:20px;margin-top:15px"><strong>3. –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</strong> –°–æ–±—ã—Ç–∏–µ —Ç–µ—Ä—è–µ—Ç—Å—è, –Ω–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–∏–¥–µ—Ç.</p><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –ü–æ—á—Ç–æ–≤—É—é —Å–ª—É–∂–±—É - –ø–æ–¥–ø–∏—Å—á–∏–∫ –æ—Ç–∫–ª—é—á–∏–ª—Å—è = –∞–¥—Ä–µ—Å–∞—Ç –ø–µ—Ä–µ–µ—Ö–∞–ª, –æ—à–∏–±–∫–∞ –≤ Subscription = –ø–æ—á—Ç–∞–ª—å–æ–Ω –∑–∞–±–æ–ª–µ–ª, –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ = –ø–∏—Å—å–º–æ –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å.</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ gracefully. –ù–µ –ø–∞–¥–∞–π—Ç–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ–¥–Ω–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ - –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 18: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>In-Memory Pub/Sub –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p><ul style="margin-left:40px"><li>–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö (–∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–µ—Ä –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤)</li><li>–î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ</li><li>–ü–∞–º—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ —Ä–∞–∑–º–µ—Ä–æ–º –ø—Ä–æ—Ü–µ—Å—Å–∞</li></ul><p style="margin-left:20px;margin-top:15px"><strong>–ö–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:</strong> –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä, –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.</p><p style="margin-left:20px;margin-top:15px"><strong>–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω Redis:</strong> –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤, –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –Ω—É–∂–Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å.</p><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> In-Memory = –æ–¥–∏–Ω –æ—Ñ–∏—Å —Å –æ–¥–Ω–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, Redis = call-—Ü–µ–Ω—Ç—Ä —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏.</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –î–ª—è –æ–±—É—á–µ–Ω–∏—è In-Memory –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–µ–Ω Redis –∏–ª–∏ –¥—Ä—É–≥–æ–π –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 19: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–°—Ü–µ–Ω–∞—Ä–∏–π:</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.</p><p style="margin-left:20px;margin-top:15px"><strong>–®–∞–≥ 1: –ü–æ–¥–ø–∏—Å–∫–∞</strong></p><pre><code class="language-graphql">subscription {
  messageAdded {
    id
    title
    content
  }
}</code></pre><p style="margin-left:20px;margin-top:10px">‚Üí WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ, –æ—á–µ—Ä–µ–¥—å —Å–æ–∑–¥–∞–Ω–∞</p><p style="margin-left:20px;margin-top:15px"><strong>–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è</strong></p><pre><code class="language-graphql">mutation {
  createMessage(
    authorId: 1
    title: "–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
    content: "–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º!"
  ) {
    id
  }
}</code></pre><p style="margin-left:20px;margin-top:10px">‚Üí –ú—É—Ç–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –ë–î</p><p style="margin-left:20px;margin-top:15px"><strong>–®–∞–≥ 3: –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è</strong> ‚Üí –°–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –æ—á–µ—Ä–µ–¥—å</p><p style="margin-left:20px;margin-top:15px"><strong>–®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</strong> ‚Üí –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ WebSocket –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#2ecc71">–í—Ä–µ–º—è:</strong> –í—Å—ë –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ. –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫, –Ω–µ—Ç –æ–ø—Ä–æ—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞!</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 20: –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ - —Ä–µ–∑—é–º–µ</h2><div style="text-align:left;font-size:.7em"><p style="margin-left:20px"><strong>–ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å:</strong></p><ol style="margin-left:40px"><li><strong>Pub/Sub –ø–∞—Ç—Ç–µ—Ä–Ω:</strong> Publisher –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ –∫–∞–Ω–∞–ª—ã, Subscriber –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è</li><li><strong>PubSubManager:</strong> –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞</li><li><strong>Subscription –≤ GraphQL:</strong> –¢—Ä–µ—Ç–∏–π —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–π, —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ WebSocket, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç AsyncIterator</li><li><strong>–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π:</strong> –ü—É–±–ª–∏–∫—É–π—Ç–µ –≤ –º—É—Ç–∞—Ü–∏—è—Ö –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li><li><strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ö–µ–º—É, —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫–∏ –≤ –¥–≤—É—Ö –æ–∫–Ω–∞—Ö</li></ol><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - Pub/Sub = –ø–æ—á—Ç–æ–≤–∞—è —Å–ª—É–∂–±–∞, PubSubManager = –ø–æ—á—Ç–æ–≤–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ, Subscription = –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∂—É—Ä–Ω–∞–ª, –ü—É–±–ª–∏–∫–∞—Ü–∏—è = –æ—Ç–ø—Ä–∞–≤–∫–∞ –∂—É—Ä–Ω–∞–ª–∞.</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#2ecc71">–ì–ª–∞–≤–Ω–æ–µ:</strong> Subscriptions - —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É. –≠—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∏ —É–¥–æ–±–Ω–µ–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 21: –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong style="color:#e74c3c">–û—à–∏–±–∫–∞ 1: –ó–∞–±—ã–ª–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ</strong></p><p style="margin-left:20px">‚Üí –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –Ω–µ –ø–æ–ª—É—á–∞—Ç —Å–æ–±—ã—Ç–∏–µ, –µ—Å–ª–∏ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –µ–≥–æ</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#e74c3c">–û—à–∏–±–∫–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª</strong></p><p style="margin-left:20px">‚Üí –°–æ–±—ã—Ç–∏–µ –Ω–µ –¥–æ–π–¥–µ—Ç –¥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#e74c3c">–û—à–∏–±–∫–∞ 3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</strong></p><p style="margin-left:20px">‚Üí –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏, –µ—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç</p><p style="margin-left:20px;margin-top:15px"><strong style="color:#e74c3c">–û—à–∏–±–∫–∞ 4: –ó–∞–±—ã–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å Subscription –≤ —Å—Ö–µ–º—É</strong></p><p style="margin-left:20px">‚Üí –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ö–µ–º—É</p><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –î–æ—Å—Ç–∞–≤–∫–∞ –ø–∏—Ü—Ü—ã - –∑–∞–±—ã–ª–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å = –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –∫—É—Ä—å–µ—Ä–∞, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª = –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ = –Ω–µ —Ç–∞ –ø–∏—Ü—Ü–∞, –∑–∞–±—ã–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ö–µ–º—É = –ø–∏—Ü—Ü–µ—Ä–∏—è –Ω–µ –∑–Ω–∞–µ—Ç –æ –∑–∞–∫–∞–∑–µ.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è, –∫–∞–Ω–∞–ª—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –∏ Subscription –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å—Ö–µ–º—É.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 22: –û—Ç–ª–∞–¥–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ö–∞–∫ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏?</strong></p><p style="margin-left:20px;margin-top:15px"><strong>1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> –î–æ–±–∞–≤—å—Ç–µ print statements –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</p><pre><code class="language-python">async def subscribe(self, channel: str):
    print(f"–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª: {channel}")
    # ... –∫–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏
    print(f"–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ –≤ {channel}: {message}")</code></pre><p style="margin-left:20px;margin-top:15px"><strong>2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤:</strong> –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</p><p style="margin-left:20px;margin-top:15px"><strong>3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</strong> –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π</p><p style="margin-left:20px;margin-top:15px"><strong>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</strong> Print statements, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, GraphQL Playground, WebSocket inspector.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –û—Ç–ª–∞–¥–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –æ—Ç–ª–∞–¥–∫–∞ –æ–±—ã—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ WebSocket.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 23: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>GraphQL Subscriptions vs –¥—Ä—É–≥–∏–µ –ø–æ–¥—Ö–æ–¥—ã:</strong></p><table style="margin:15px auto;width:95%"><thead><tr><th>–ü–æ–¥—Ö–æ–¥</th><th>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</th><th>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</th></tr></thead><tbody><tr><td><strong>Polling</strong></td><td>‚úÖ –ü—Ä–æ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å</td><td>‚ùå –õ–∏—à–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞, –∑–∞–¥–µ—Ä–∂–∫–∞</td></tr><tr><td><strong>Server-Sent Events</strong></td><td>‚úÖ –ü—Ä–æ—â–µ, —á–µ–º WebSocket, –∞–≤—Ç–æ-–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</td><td>‚ùå –¢–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä ‚Üí –∫–ª–∏–µ–Ω—Ç</td></tr><tr><td><strong>WebSocket (GraphQL)</strong></td><td>‚úÖ –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç</td><td>‚ùå –°–ª–æ–∂–Ω–µ–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ</td></tr></tbody></table><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> Polling = –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–≤–æ–Ω–∏—Ç–µ –¥—Ä—É–≥—É, SSE = —Ä–∞–¥–∏–æ (—Ç–æ–ª—å–∫–æ —Å–ª—É—à–∞–µ—Ç–µ), WebSocket = —Ç–µ–ª–µ—Ñ–æ–Ω (–º–æ–∂–µ—Ç–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç—å, –∏ —Å–ª—É—à–∞—Ç—å).</p><p style="margin-left:20px;margin-top:15px"><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> Polling = –ø—Ä–æ—Å—Ç—ã–µ —Å–ª—É—á–∞–∏, SSE = —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, WebSocket = –Ω—É–∂–Ω–∞ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å, real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.</p></div></section>

<section data-background-color="#2c3e50"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 24: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–æ–∫</h2><div style="text-align:left;font-size:.65em"><p style="margin-left:20px"><strong>–ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</strong></p><p style="margin-left:20px;margin-top:15px"><strong>1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:</strong> –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ Subscription. –ù–µ –ø–æ–∑–≤–æ–ª—è–π—Ç–µ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è.</p><pre><code class="language-python">@strawberry.subscription
async def message_added(self, info):
    user = info.context.get("user")
    if not user:
        raise Exception("Authentication required")
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥</code></pre><p style="margin-left:20px;margin-top:15px"><strong>2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:</strong> –ü—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!</p><p style="margin-left:20px;margin-top:15px"><strong>3. Rate limiting:</strong> –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è.</p><p style="margin-left:20px;margin-top:15px"><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è:</strong> –ó–∞–∫—Ä—ã—Ç—ã–π –∫–ª—É–± - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è = –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–ª–µ–Ω—Å—Ç–≤–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö = –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, rate limiting = –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–∏–π.</p><p style="margin-left:20px;margin-top:10px"><strong style="color:#FFD700">–í–∞–∂–Ω–æ:</strong> –ü–æ–¥–ø–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ WebSocket, –∫–æ—Ç–æ—Ä—ã–π –¥–µ—Ä–∂–∏—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–º. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã.</p></div></section>

<section data-background-color="#16213e"><h2 style="color:#FFD700">–°–ª–∞–π–¥ 25: –ó–∞–∫–ª—é—á–µ–Ω–∏–µ - –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</h2><div style="text-align:left;font-size:.7em"><p style="margin-left:20px"><strong style="color:#2ecc71">–ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏:</strong></p><ol style="margin-left:40px"><li>Subscriptions - —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ WebSocket</li><li>Pub/Sub –ø–∞—Ç—Ç–µ—Ä–Ω - —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–±—ã—Ç–∏–π –æ—Ç –∏–∑–¥–∞—Ç–µ–ª–µ–π –∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º</li><li>PubSubManager - –º–µ–Ω–µ–¥–∂–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏</li><li>–ö–∞–Ω–∞–ª—ã - –≥—Ä—É–ø–ø—ã –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "messages", "comments:1")</li><li>–û—á–µ—Ä–µ–¥–∏ - —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞</li><li>–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ –º—É—Ç–∞—Ü–∏—è—Ö –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li></ol><p style="margin-left:20px;margin-top:15px"><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p><ol style="margin-left:40px"><li>–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</li><li>–°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∫–∞–Ω–∞–ª–∞</li><li>–ú—É—Ç–∞—Ü–∏—è –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–Ω–∞–ª</li><li>–°–æ–±—ã—Ç–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤–æ –≤—Å–µ –æ—á–µ—Ä–µ–¥–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</li><li>–ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ WebSocket</li></ol><p style="margin-left:20px;margin-top:15px"><strong style="color:#2ecc71">–ì–ª–∞–≤–Ω–æ–µ:</strong> Subscriptions –¥–µ–ª–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–º–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã!</p><p style="margin-left:20px;margin-top:15px"><strong>–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:</strong> –ò–∑—É—á–∏—Ç–µ STEP_5_GUIDE.md, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ GraphQL Playground, –∏–∑—É—á–∏—Ç–µ Redis –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.</p></div></section>

</div></div><script src="../15-16/js/reveal.min.js"></script><script src="../15-16/js/notes.min.js"></script><script src="../15-16/js/markdown.min.js"></script><script src="../15-16/js/highlight.min.js"></script><script>Reveal.initialize({hash:true,transition:'slide',controls:true,progress:true,slideNumber:true,center:false,margin:0.02,plugins:[RevealMarkdown,RevealHighlight,RevealNotes]});Reveal.addEventListener('ready',function(){if(typeof hljs!=='undefined'){hljs.registerLanguage('python',function(hljs){return{aliases:['py'],keywords:{keyword:'and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del def lambda async await',built_in:'abs all any bin bool chr dict dir divmod enumerate filter float format frozenset getattr globals hasattr hash help hex id input int isinstance issubclass iter len list locals map max min next oct open ord pow print property range repr reversed round set setattr slice sorted str sum super tuple type vars zip',literal:'True False None'},contains:[hljs.HASH_COMMENT_MODE,hljs.QUOTE_STRING_MODE,hljs.NUMBER_MODE,{className:'function',begin:/\bdef [a-zA-Z_][a-zA-Z0-9_]*\s*\(/,relevance:10},{className:'class',begin:/\bclass [a-zA-Z_][a-zA-Z0-9_]*\s*\(/,relevance:10}]}});hljs.registerLanguage('graphql',function(hljs){return{aliases:['gql','sdl'],keywords:{keyword:'query mutation subscription type interface union scalar enum input extend directive schema implements',literal:'true false null'},contains:[hljs.HASH_COMMENT_MODE,hljs.QUOTE_STRING_MODE,hljs.NUMBER_MODE,{className:'type',begin:'\\b[A-Z][a-zA-Z0-9]*\\b',relevance:0},{className:'attr',begin:'\\b[a-z][a-zA-Z0-9]*\\b',relevance:0},{className:'punctuation',begin:/[!(){}\[\]:=|]/,relevance:0},{className:'directive',begin:'@[a-zA-Z]+',relevance:0}]}});hljs.highlightAll();}});</script></body></html>
