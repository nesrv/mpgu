# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 100
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: 10
- –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å: "apple"
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: Apache Bench (ab)

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### 1. SQLAlchemy ORM (direct-search-orm) ü•á

```
Requests per second:    188.06 [#/sec]
Time per request:       53.173 [ms] (mean)
Failed requests:        40
```

**Connection Times (ms):**
```
              min  mean[+/-sd] median   max
Total:          8   51  38.4     41     199
```

**Percentiles:**
- 50%: 41 ms
- 90%: 89 ms
- 99%: 199 ms

---

### 2. SQL —Ñ—É–Ω–∫—Ü–∏—è (direct-search) ü•à

```
Requests per second:    156.45 [#/sec]
Time per request:       63.919 [ms] (mean)
Failed requests:        93
```

**Connection Times (ms):**
```
              min  mean[+/-sd] median   max
Total:          6   58  26.0     59     159
```

**Percentiles:**
- 50%: 59 ms
- 90%: 86 ms
- 99%: 159 ms

---

### 3. OpenSearch (search) ü•â

```
Requests per second:    60.63 [#/sec]
Time per request:       164.932 [ms] (mean)
Failed requests:        0
Non-2xx responses:      100
```

**Connection Times (ms):**
```
              min  mean[+/-sd] median   max
Total:         53  160  78.3    133     355
```

**Percentiles:**
- 50%: 133 ms
- 90%: 306 ms
- 99%: 355 ms

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ú–µ—Ç–æ–¥ | Requests/sec | –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è (ms) | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å |
|-------|--------------|-------------------|----------------------|
| **SQLAlchemy ORM** | 188.06 | 53.2 | 3.1x –±—ã—Å—Ç—Ä–µ–µ OpenSearch |
| **SQL —Ñ—É–Ω–∫—Ü–∏—è** | 156.45 | 63.9 | 2.6x –±—ã—Å—Ç—Ä–µ–µ OpenSearch |
| **OpenSearch** | 60.63 | 164.9 | –ë–∞–∑–æ–≤–∞—è –ª–∏–Ω–∏—è |

## –í—ã–≤–æ–¥—ã

1. **SQLAlchemy ORM** –ø–æ–∫–∞–∑–∞–ª –ª—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - 188 req/sec
2. **SQL —Ñ—É–Ω–∫—Ü–∏—è** –Ω–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ - 156 req/sec (–Ω–∞ 17% –º–µ–¥–ª–µ–Ω–Ω–µ–µ ORM)
3. **OpenSearch** –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ - 60 req/sec (–≤ 3 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ ORM)

### –ü—Ä–∏—á–∏–Ω—ã —Ä–∞–∑–ª–∏—á–∏–π:

- **PostgreSQL** (ORM –∏ SQL —Ñ—É–Ω–∫—Ü–∏—è):
  - –õ–æ–∫–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
  - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å `to_tsvector`/`to_tsquery`
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π network overhead

- **OpenSearch**:
  - –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (HTTP)
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
  - Overhead —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **PostgreSQL** (ORM –∏–ª–∏ SQL —Ñ—É–Ω–∫—Ü–∏—è)
- **OpenSearch** –æ–ø—Ä–∞–≤–¥–∞–Ω –¥–ª—è:
  - –°–ª–æ–∂–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –§–∞—Å–µ—Ç–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
  - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

OpenSearch –ø–æ–∫–∞–∑–∞–ª `Non-2xx responses: 100` - –≤–æ–∑–º–æ–∂–Ω–æ, —Å–µ—Ä–≤–∏—Å –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω. –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ OpenSearch.
